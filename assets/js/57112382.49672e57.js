"use strict";(self.webpackChunkclass_doc=self.webpackChunkclass_doc||[]).push([[3526],{4870:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"Bai-18-http-request","title":"B\xe0i 18: G\u1ecdi API v\u1edbi HTTP trong Flutter","description":"M\u1ee5c ti\xeau b\xe0i h\u1ecdc","source":"@site/lessons/Bai-18-http-request.md","sourceDirName":".","slug":"/Bai-18-http-request","permalink":"/class-doc/lessons/Bai-18-http-request","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"lessonsSidebar","previous":{"title":"B\xe0i 17: Navigation & Data Passing","permalink":"/class-doc/lessons/Bai-17-navigation-data-passing"},"next":{"title":"B\xe0i 19: L\u1eadp Tr\xecnh C\u1ed9ng T\xe1c v\u1edbi GitHub Copilot","permalink":"/class-doc/lessons/Bai-19-Lap-Trinh-Cong-Tac-GitHub-Copilot"}}');var s=t(4848),d=t(8453);const o={},r="B\xe0i 18: G\u1ecdi API v\u1edbi HTTP trong Flutter",c={},h=[{value:"M\u1ee5c ti\xeau b\xe0i h\u1ecdc",id:"m\u1ee5c-ti\xeau-b\xe0i-h\u1ecdc",level:2},{value:"1. HTTP l\xe0 g\xec?",id:"1-http-l\xe0-g\xec",level:2},{value:"T\u1ea1i sao c\u1ea7n g\u1ecdi API?",id:"t\u1ea1i-sao-c\u1ea7n-g\u1ecdi-api",level:3},{value:"2. C\xe1c ph\u01b0\u01a1ng th\u1ee9c HTTP c\u01a1 b\u1ea3n",id:"2-c\xe1c-ph\u01b0\u01a1ng-th\u1ee9c-http-c\u01a1-b\u1ea3n",level:2},{value:"C\u1ea5u tr\xfac m\u1ed9t HTTP Request",id:"c\u1ea5u-tr\xfac-m\u1ed9t-http-request",level:3},{value:"C\u1ea5u tr\xfac m\u1ed9t HTTP Response",id:"c\u1ea5u-tr\xfac-m\u1ed9t-http-response",level:3},{value:"3. \xd4n l\u1ea1i: C\xe1ch Gemini Service ho\u1ea1t \u0111\u1ed9ng",id:"3-\xf4n-l\u1ea1i-c\xe1ch-gemini-service-ho\u1ea1t-\u0111\u1ed9ng",level:2},{value:"4. C\xe0i \u0111\u1eb7t th\u01b0 vi\u1ec7n HTTP",id:"4-c\xe0i-\u0111\u1eb7t-th\u01b0-vi\u1ec7n-http",level:2},{value:"B\u01b0\u1edbc 1: Th\xeam th\u01b0 vi\u1ec7n v\xe0o <code>pubspec.yaml</code>",id:"b\u01b0\u1edbc-1-th\xeam-th\u01b0-vi\u1ec7n-v\xe0o-pubspecyaml",level:3},{value:"B\u01b0\u1edbc 2: Import th\u01b0 vi\u1ec7n",id:"b\u01b0\u1edbc-2-import-th\u01b0-vi\u1ec7n",level:3},{value:"5. X\xe2y d\u1ef1ng Todo API Service",id:"5-x\xe2y-d\u1ef1ng-todo-api-service",level:2},{value:"5.1. C\u1ea5u h\xecnh API",id:"51-c\u1ea5u-h\xecnh-api",level:3},{value:"5.2. T\u1ea1o Model Todo",id:"52-t\u1ea1o-model-todo",level:3},{value:"5.3. T\u1ea1o Todo API Service",id:"53-t\u1ea1o-todo-api-service",level:3},{value:"6. Gi\u1ea3i th\xedch chi ti\u1ebft t\u1eebng thao t\xe1c",id:"6-gi\u1ea3i-th\xedch-chi-ti\u1ebft-t\u1eebng-thao-t\xe1c",level:2},{value:"6.1. GET - L\u1ea5y danh s\xe1ch",id:"61-get---l\u1ea5y-danh-s\xe1ch",level:3},{value:"6.2. POST - Th\xeam m\u1edbi",id:"62-post---th\xeam-m\u1edbi",level:3},{value:"6.3. PATCH - C\u1eadp nh\u1eadt",id:"63-patch---c\u1eadp-nh\u1eadt",level:3},{value:"6.4. DELETE - X\xf3a",id:"64-delete---x\xf3a",level:3},{value:"7. X\xe2y d\u1ef1ng giao di\u1ec7n Todo App",id:"7-x\xe2y-d\u1ef1ng-giao-di\u1ec7n-todo-app",level:2},{value:"7.1. M\xe0n h\xecnh Todo List",id:"71-m\xe0n-h\xecnh-todo-list",level:3},{value:"7.2. File main.dart",id:"72-file-maindart",level:3},{value:"8. X\u1eed l\xfd Loading v\xe0 Error",id:"8-x\u1eed-l\xfd-loading-v\xe0-error",level:2},{value:"8.1. Hi\u1ec3n th\u1ecb Loading",id:"81-hi\u1ec3n-th\u1ecb-loading",level:3},{value:"8.2. X\u1eed l\xfd Error v\u1edbi try-catch",id:"82-x\u1eed-l\xfd-error-v\u1edbi-try-catch",level:3},{value:"9. So s\xe1nh: Gemini Service vs Todo API Service",id:"9-so-s\xe1nh-gemini-service-vs-todo-api-service",level:2},{value:"10. B\xe0i t\u1eadp v\u1ec1 nh\xe0",id:"10-b\xe0i-t\u1eadp-v\u1ec1-nh\xe0",level:2},{value:"B\xe0i t\u1eadp 1: Th\xeam ch\u1ee9c n\u0103ng s\u1eeda ti\xeau \u0111\u1ec1",id:"b\xe0i-t\u1eadp-1-th\xeam-ch\u1ee9c-n\u0103ng-s\u1eeda-ti\xeau-\u0111\u1ec1",level:3},{value:"B\xe0i t\u1eadp 2: Hi\u1ec3n th\u1ecb s\u1ed1 l\u01b0\u1ee3ng todo",id:"b\xe0i-t\u1eadp-2-hi\u1ec3n-th\u1ecb-s\u1ed1-l\u01b0\u1ee3ng-todo",level:3},{value:"11. T\u1ed5ng k\u1ebft",id:"11-t\u1ed5ng-k\u1ebft",level:2}];function l(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components},{Details:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"b\xe0i-18-g\u1ecdi-api-v\u1edbi-http-trong-flutter",children:"B\xe0i 18: G\u1ecdi API v\u1edbi HTTP trong Flutter"})}),"\n",(0,s.jsx)(e.h2,{id:"m\u1ee5c-ti\xeau-b\xe0i-h\u1ecdc",children:"M\u1ee5c ti\xeau b\xe0i h\u1ecdc"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Hi\u1ec3u HTTP l\xe0 g\xec v\xe0 c\xe1ch \u1ee9ng d\u1ee5ng giao ti\u1ebfp v\u1edbi server"}),"\n",(0,s.jsx)(e.li,{children:"N\u1eafm v\u1eefng 4 ph\u01b0\u01a1ng th\u1ee9c HTTP c\u01a1 b\u1ea3n: GET, POST, PATCH, DELETE"}),"\n",(0,s.jsxs)(e.li,{children:["Bi\u1ebft c\xe1ch s\u1eed d\u1ee5ng th\u01b0 vi\u1ec7n ",(0,s.jsx)(e.code,{children:"http"})," trong Flutter"]}),"\n",(0,s.jsx)(e.li,{children:"Th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c 4 thao t\xe1c CRUD th\xf4ng qua API"}),"\n",(0,s.jsx)(e.li,{children:"\xc1p d\u1ee5ng ki\u1ebfn th\u1ee9c x\xe2y d\u1ef1ng \u1ee9ng d\u1ee5ng Todo List k\u1ebft n\u1ed1i server"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"1-http-l\xe0-g\xec",children:"1. HTTP l\xe0 g\xec?"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"HTTP"}),' (HyperText Transfer Protocol) l\xe0 "ng\xf4n ng\u1eef" m\xe0 \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n d\xf9ng \u0111\u1ec3 n\xf3i chuy\u1ec7n v\u1edbi server (m\xe1y ch\u1ee7) qua Internet.']}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"V\xed d\u1ee5 th\u1ef1c t\u1ebf:"})}),"\n",(0,s.jsx)(e.p,{children:"H\xe3y t\u01b0\u1edfng t\u01b0\u1ee3ng b\u1ea1n \u0111\u1ebfn m\u1ed9t nh\xe0 h\xe0ng:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"B\u1ea1n (App)"})," \u2192 \u0110\u01b0a menu order cho ph\u1ee5c v\u1ee5 \u2192 ",(0,s.jsx)(e.strong,{children:"B\u1ebfp (Server)"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"B\u1ebfp (Server)"})," \u2192 L\xe0m m\xf3n v\xe0 mang ra \u2192 ",(0,s.jsx)(e.strong,{children:"B\u1ea1n (App)"})]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 \u2502  \u2500\u2500 Request (Y\xeau c\u1ea7u) \u2500\u2500>  \u2502                 \u2502\n\u2502   \u1ee8ng d\u1ee5ng      \u2502                      \u2502     Server      \u2502\n\u2502   (Flutter)     \u2502  <\u2500\u2500 Response (Ph\u1ea3n h\u1ed3i) \u2500\u2500 \u2502   (API)         \u2502\n\u2502                 \u2502                      \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.h3,{id:"t\u1ea1i-sao-c\u1ea7n-g\u1ecdi-api",children:"T\u1ea1i sao c\u1ea7n g\u1ecdi API?"}),"\n",(0,s.jsx)(e.p,{children:"Khi \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n c\u1ea7n:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"L\u1ea5y d\u1eef li\u1ec7u t\u1eeb Internet"}),": Tin t\u1ee9c, th\u1eddi ti\u1ebft, s\u1ea3n ph\u1ea9m..."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u"}),": Nhi\u1ec1u thi\u1ebft b\u1ecb d\xf9ng chung d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"L\u01b0u tr\u1eef tr\xean server"}),": D\u1eef li\u1ec7u kh\xf4ng m\u1ea5t khi x\xf3a app"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"T\u01b0\u01a1ng t\xe1c v\u1edbi d\u1ecbch v\u1ee5 kh\xe1c"}),": AI (Gemini), thanh to\xe1n, b\u1ea3n \u0111\u1ed3..."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"2-c\xe1c-ph\u01b0\u01a1ng-th\u1ee9c-http-c\u01a1-b\u1ea3n",children:"2. C\xe1c ph\u01b0\u01a1ng th\u1ee9c HTTP c\u01a1 b\u1ea3n"}),"\n",(0,s.jsx)(e.p,{children:"HTTP c\xf3 nhi\u1ec1u ph\u01b0\u01a1ng th\u1ee9c, nh\u01b0ng ch\xfang ta s\u1ebd h\u1ecdc 4 ph\u01b0\u01a1ng th\u1ee9c ch\xednh t\u01b0\u01a1ng \u1ee9ng v\u1edbi CRUD:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Ph\u01b0\u01a1ng th\u1ee9c"}),(0,s.jsx)(e.th,{children:"\xdd ngh\u0129a"}),(0,s.jsx)(e.th,{children:"V\xed d\u1ee5"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"GET"})}),(0,s.jsx)(e.td,{children:"L\u1ea5y d\u1eef li\u1ec7u"}),(0,s.jsx)(e.td,{children:"Xem danh s\xe1ch todo"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"POST"})}),(0,s.jsx)(e.td,{children:"T\u1ea1o d\u1eef li\u1ec7u m\u1edbi"}),(0,s.jsx)(e.td,{children:"Th\xeam todo m\u1edbi"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PATCH"})}),(0,s.jsx)(e.td,{children:"C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n"}),(0,s.jsx)(e.td,{children:"\u0110\xe1nh d\u1ea5u todo ho\xe0n th\xe0nh"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"DELETE"})}),(0,s.jsx)(e.td,{children:"X\xf3a d\u1eef li\u1ec7u"}),(0,s.jsx)(e.td,{children:"X\xf3a todo"})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Ghi nh\u1edb:"})," CRUD = Create (POST), Read (GET), Update (PATCH), Delete (DELETE)"]}),"\n",(0,s.jsx)(e.h3,{id:"c\u1ea5u-tr\xfac-m\u1ed9t-http-request",children:"C\u1ea5u tr\xfac m\u1ed9t HTTP Request"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    HTTP REQUEST                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 URL: https://api.example.com/todos                      \u2502\n\u2502 Method: POST                                            \u2502\n\u2502                                                         \u2502\n\u2502 Headers (Th\xf4ng tin b\u1ed5 sung):                            \u2502\n\u2502   Content-Type: application/json                        \u2502\n\u2502   app-key: student123                                   \u2502\n\u2502                                                         \u2502\n\u2502 Body (D\u1eef li\u1ec7u g\u1eedi \u0111i):                                  \u2502\n\u2502   {"title": "H\u1ecdc Flutter", "is_done": false}            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,s.jsx)(e.h3,{id:"c\u1ea5u-tr\xfac-m\u1ed9t-http-response",children:"C\u1ea5u tr\xfac m\u1ed9t HTTP Response"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    HTTP RESPONSE                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Status Code: 200 (Th\xe0nh c\xf4ng)                           \u2502\n\u2502                                                         \u2502\n\u2502 Body (D\u1eef li\u1ec7u tr\u1ea3 v\u1ec1):                                  \u2502\n\u2502   {"id": 1, "title": "H\u1ecdc Flutter", "is_done": false}   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\xe1c Status Code th\u01b0\u1eddng g\u1eb7p:"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Code"}),(0,s.jsx)(e.th,{children:"\xdd ngh\u0129a"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"200"}),(0,s.jsx)(e.td,{children:"OK - Th\xe0nh c\xf4ng"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"201"}),(0,s.jsx)(e.td,{children:"Created - T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"400"}),(0,s.jsx)(e.td,{children:"Bad Request - Y\xeau c\u1ea7u sai"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"404"}),(0,s.jsx)(e.td,{children:"Not Found - Kh\xf4ng t\xecm th\u1ea5y"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"500"}),(0,s.jsx)(e.td,{children:"Server Error - L\u1ed7i server"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"3-\xf4n-l\u1ea1i-c\xe1ch-gemini-service-ho\u1ea1t-\u0111\u1ed9ng",children:"3. \xd4n l\u1ea1i: C\xe1ch Gemini Service ho\u1ea1t \u0111\u1ed9ng"}),"\n",(0,s.jsx)(e.p,{children:"Ch\xfang ta \u0111\xe3 h\u1ecdc c\xe1ch g\u1ecdi Gemini API tr\u01b0\u1edbc \u0111\xe2y. H\xe3y \xf4n l\u1ea1i pattern n\xe0y:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"import 'dart:convert';\nimport 'package:http/http.dart' as http;\n\nclass GeminiService {\n  static Future<String> askGemini(String prompt) async {\n    // 1. T\u1ea1o URL\n    final url = Uri.parse('https://api.gemini.com/v1/generate');\n\n    // 2. G\u1eedi request v\u1edbi http.post\n    final response = await http.post(\n      url,\n      headers: {'Content-Type': 'application/json'},\n      body: jsonEncode({'prompt': prompt}),\n    );\n\n    // 3. Ki\u1ec3m tra k\u1ebft qu\u1ea3\n    if (response.statusCode == 200) {\n      final data = jsonDecode(response.body);\n      return data['text'];\n    } else {\n      throw Exception('L\u1ed7i: ${response.statusCode}');\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Quy tr\xecnh:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"T\u1ea1o URL"})," - \u0110\u1ecba ch\u1ec9 API c\u1ea7n g\u1ecdi"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"G\u1eedi Request"})," - D\xf9ng ",(0,s.jsx)(e.code,{children:"http.get"}),", ",(0,s.jsx)(e.code,{children:"http.post"}),", ",(0,s.jsx)(e.code,{children:"http.patch"}),", ho\u1eb7c ",(0,s.jsx)(e.code,{children:"http.delete"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"X\u1eed l\xfd Response"})," - Ki\u1ec3m tra ",(0,s.jsx)(e.code,{children:"statusCode"})," v\xe0 parse JSON"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Ch\xfang ta s\u1ebd \xe1p d\u1ee5ng ",(0,s.jsx)(e.strong,{children:"ch\xednh x\xe1c pattern n\xe0y"})," cho \u1ee9ng d\u1ee5ng Todo!"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"4-c\xe0i-\u0111\u1eb7t-th\u01b0-vi\u1ec7n-http",children:"4. C\xe0i \u0111\u1eb7t th\u01b0 vi\u1ec7n HTTP"}),"\n",(0,s.jsxs)(e.h3,{id:"b\u01b0\u1edbc-1-th\xeam-th\u01b0-vi\u1ec7n-v\xe0o-pubspecyaml",children:["B\u01b0\u1edbc 1: Th\xeam th\u01b0 vi\u1ec7n v\xe0o ",(0,s.jsx)(e.code,{children:"pubspec.yaml"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"dependencies:\n  flutter:\n    sdk: flutter\n  http: ^1.2.0\n"})}),"\n",(0,s.jsx)(e.p,{children:"Sau \u0111\xf3 ch\u1ea1y l\u1ec7nh:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"flutter pub get\n"})}),"\n",(0,s.jsx)(e.h3,{id:"b\u01b0\u1edbc-2-import-th\u01b0-vi\u1ec7n",children:"B\u01b0\u1edbc 2: Import th\u01b0 vi\u1ec7n"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"import 'dart:convert';\nimport 'package:http/http.dart' as http;\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"5-x\xe2y-d\u1ef1ng-todo-api-service",children:"5. X\xe2y d\u1ef1ng Todo API Service"}),"\n",(0,s.jsx)(e.h3,{id:"51-c\u1ea5u-h\xecnh-api",children:"5.1. C\u1ea5u h\xecnh API"}),"\n",(0,s.jsx)(e.p,{children:"T\u1ea1o file c\u1ea5u h\xecnh \u0111\u1ec3 l\u01b0u th\xf4ng tin API:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// config/api_config.dart\nclass ApiConfig {\n  // URL c\u1ee7a Todo API\n  static const String baseUrl = 'https://izbvwgyrqnilggqzdnht.supabase.co/rest/v1';\n  \n  // API Key \u0111\u1ec3 x\xe1c th\u1ef1c\n  static const String apiKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6YnZ3Z3lycW5pbGdncXpkbmh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkyNjI4MTEsImV4cCI6MjA4NDgzODgxMX0.HEBj_6mLEEJhx4PsAf7cxAXW05mgz5t8GeArigXW6lc';\n  \n  // App key c\u1ee7a b\u1ea1n (\u0111\u1eb7t t\xean b\u1ea5t k\u1ef3, v\xed d\u1ee5: t\xean c\u1ee7a b\u1ea1n)\n  static const String appKey = 'student_name_here';\n}\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"L\u01b0u \xfd:"})," M\u1ed7i h\u1ecdc vi\xean \u0111\u1eb7t ",(0,s.jsx)(e.code,{children:"appKey"})," kh\xe1c nhau (v\xed d\u1ee5: t\xean c\u1ee7a m\xecnh) \u0111\u1ec3 d\u1eef li\u1ec7u kh\xf4ng b\u1ecb l\u1eabn v\u1edbi ng\u01b0\u1eddi kh\xe1c. V\xed d\u1ee5: ",(0,s.jsx)(e.code,{children:"thuannd"}),", ",(0,s.jsx)(e.code,{children:"student01"}),", ",(0,s.jsx)(e.code,{children:"minhpn"}),"..."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"52-t\u1ea1o-model-todo",children:"5.2. T\u1ea1o Model Todo"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// models/todo.dart\nclass Todo {\n  final int? id;\n  final String title;\n  final bool isDone;\n\n  Todo({\n    this.id,\n    required this.title,\n    this.isDone = false,\n  });\n\n  // Chuy\u1ec3n Todo th\xe0nh Map \u0111\u1ec3 g\u1eedi l\xean server\n  Map<String, dynamic> toJson() {\n    return {\n      'title': title,\n      'is_done': isDone,\n    };\n  }\n\n  // T\u1ea1o Todo t\u1eeb JSON (d\u1eef li\u1ec7u t\u1eeb server)\n  factory Todo.fromJson(Map<String, dynamic> json) {\n    return Todo(\n      id: json['id'],\n      title: json['title'],\n      isDone: json['is_done'] ?? false,\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"53-t\u1ea1o-todo-api-service",children:"5.3. T\u1ea1o Todo API Service"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// services/todo_api_service.dart\nimport 'dart:convert';\nimport 'package:http/http.dart' as http;\nimport '../config/api_config.dart';\nimport '../models/todo.dart';\n\nclass TodoApiService {\n  // Headers chung cho m\u1ecdi request\n  static Map<String, String> get _headers => {\n    'Content-Type': 'application/json',\n    'apikey': ApiConfig.apiKey,\n    'Prefer': 'return=representation', // \u0110\u1ec3 server tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u sau khi th\xeam/s\u1eeda\n  };\n\n  // GET - L\u1ea5y danh s\xe1ch todo (l\u1ecdc theo app_key)\n  static Future<List<Todo>> getTodos() async {\n    // Th\xeam ?app_key=eq.xxx \u0111\u1ec3 l\u1ecdc theo app_key c\u1ee7a m\xecnh\n    final url = Uri.parse(\n      '${ApiConfig.baseUrl}/todos?app_key=eq.${ApiConfig.appKey}&order=created_at.desc'\n    );\n\n    final response = await http.get(url, headers: _headers);\n\n    if (response.statusCode == 200) {\n      final List<dynamic> jsonList = jsonDecode(response.body);\n      return jsonList.map((json) => Todo.fromJson(json)).toList();\n    } else {\n      throw Exception('Kh\xf4ng th\u1ec3 t\u1ea3i danh s\xe1ch todo');\n    }\n  }\n\n  // POST - Th\xeam todo m\u1edbi\n  static Future<Todo> addTodo(String title) async {\n    final url = Uri.parse('${ApiConfig.baseUrl}/todos');\n\n    final response = await http.post(\n      url,\n      headers: _headers,\n      body: jsonEncode({\n        'title': title,\n        'is_done': false,\n        'app_key': ApiConfig.appKey, // G\u1eedi app_key trong body\n      }),\n    );\n\n    if (response.statusCode == 200 || response.statusCode == 201) {\n      // Server tr\u1ea3 v\u1ec1 array, l\u1ea5y ph\u1ea7n t\u1eed \u0111\u1ea7u ti\xean\n      final List<dynamic> result = jsonDecode(response.body);\n      return Todo.fromJson(result.first);\n    } else {\n      throw Exception('Kh\xf4ng th\u1ec3 th\xeam todo');\n    }\n  }\n\n  // PATCH - C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i todo\n  static Future<void> updateTodo(int id, bool isDone) async {\n    // S\u1eed d\u1ee5ng ?id=eq.xxx \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh record c\u1ea7n update\n    final url = Uri.parse('${ApiConfig.baseUrl}/todos?id=eq.$id');\n\n    final response = await http.patch(\n      url,\n      headers: _headers,\n      body: jsonEncode({'is_done': isDone}),\n    );\n\n    if (response.statusCode != 200 && response.statusCode != 204) {\n      throw Exception('Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt todo');\n    }\n  }\n\n  // DELETE - X\xf3a todo\n  static Future<void> deleteTodo(int id) async {\n    // S\u1eed d\u1ee5ng ?id=eq.xxx \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh record c\u1ea7n x\xf3a\n    final url = Uri.parse('${ApiConfig.baseUrl}/todos?id=eq.$id');\n\n    final response = await http.delete(url, headers: _headers);\n\n    if (response.statusCode != 200 && response.statusCode != 204) {\n      throw Exception('Kh\xf4ng th\u1ec3 x\xf3a todo');\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"6-gi\u1ea3i-th\xedch-chi-ti\u1ebft-t\u1eebng-thao-t\xe1c",children:"6. Gi\u1ea3i th\xedch chi ti\u1ebft t\u1eebng thao t\xe1c"}),"\n",(0,s.jsx)(e.h3,{id:"61-get---l\u1ea5y-danh-s\xe1ch",children:"6.1. GET - L\u1ea5y danh s\xe1ch"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"static Future<List<Todo>> getTodos() async {\n  // 1. T\u1ea1o URL v\u1edbi query parameters \u0111\u1ec3 l\u1ecdc\n  final url = Uri.parse(\n    '${ApiConfig.baseUrl}/todos?app_key=eq.${ApiConfig.appKey}&order=created_at.desc'\n  );\n\n  // 2. G\u1eedi GET request\n  final response = await http.get(url, headers: _headers);\n\n  // 3. Ki\u1ec3m tra v\xe0 x\u1eed l\xfd k\u1ebft qu\u1ea3\n  if (response.statusCode == 200) {\n    // Parse JSON array th\xe0nh List<Todo>\n    final List<dynamic> jsonList = jsonDecode(response.body);\n    return jsonList.map((json) => Todo.fromJson(json)).toList();\n  } else {\n    throw Exception('L\u1ed7i: ${response.statusCode}');\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"?app_key=eq.xxx"})," - L\u1ecdc ch\u1ec9 l\u1ea5y todo c\u1ee7a m\xecnh (eq = equals)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"&order=created_at.desc"})," - S\u1eafp x\u1ebfp theo th\u1eddi gian t\u1ea1o, m\u1edbi nh\u1ea5t tr\u01b0\u1edbc"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"http.get()"})," - G\u1eedi y\xeau c\u1ea7u l\u1ea5y d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"jsonDecode(response.body)"})," - Chuy\u1ec3n chu\u1ed7i JSON th\xe0nh List/Map"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:".map().toList()"})," - Chuy\u1ec3n t\u1eebng ph\u1ea7n t\u1eed th\xe0nh Todo object"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"62-post---th\xeam-m\u1edbi",children:"6.2. POST - Th\xeam m\u1edbi"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"static Future<Todo> addTodo(String title) async {\n  final url = Uri.parse('${ApiConfig.baseUrl}/todos');\n\n  final response = await http.post(\n    url,\n    headers: _headers,\n    body: jsonEncode({\n      'title': title,\n      'is_done': false,\n      'app_key': ApiConfig.appKey,\n    }),\n  );\n\n  if (response.statusCode == 200 || response.statusCode == 201) {\n    // Server tr\u1ea3 v\u1ec1 array, l\u1ea5y ph\u1ea7n t\u1eed \u0111\u1ea7u ti\xean\n    final List<dynamic> result = jsonDecode(response.body);\n    return Todo.fromJson(result.first);\n  } else {\n    throw Exception('L\u1ed7i: ${response.statusCode}');\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"http.post()"})," - G\u1eedi y\xeau c\u1ea7u t\u1ea1o m\u1edbi"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"body: jsonEncode({...})"})," - D\u1eef li\u1ec7u g\u1eedi \u0111i (ph\u1ea3i encode th\xe0nh JSON string)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"app_key"})," - G\u1eedi k\xe8m \u0111\u1ec3 \u0111\xe1nh d\u1ea5u todo c\u1ee7a m\xecnh"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"Prefer: return=representation"})," - Header y\xeau c\u1ea7u server tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u v\u1eeba t\u1ea1o"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"63-patch---c\u1eadp-nh\u1eadt",children:"6.3. PATCH - C\u1eadp nh\u1eadt"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"static Future<void> updateTodo(int id, bool isDone) async {\n  // S\u1eed d\u1ee5ng query parameter ?id=eq.xxx \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh record\n  final url = Uri.parse('${ApiConfig.baseUrl}/todos?id=eq.$id');\n\n  final response = await http.patch(\n    url,\n    headers: _headers,\n    body: jsonEncode({'is_done': isDone}),\n  );\n\n  if (response.statusCode != 200 && response.statusCode != 204) {\n    throw Exception('L\u1ed7i: ${response.statusCode}');\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"?id=eq.$id"})," - Ch\u1ec9 \u0111\u1ecbnh todo n\xe0o c\u1ea7n update (eq = equals)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"http.patch()"})," - C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n (ch\u1ec9 g\u1eedi field c\u1ea7n thay \u0111\u1ed5i)"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"64-delete---x\xf3a",children:"6.4. DELETE - X\xf3a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"static Future<void> deleteTodo(int id) async {\n  // S\u1eed d\u1ee5ng query parameter ?id=eq.xxx \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh record\n  final url = Uri.parse('${ApiConfig.baseUrl}/todos?id=eq.$id');\n\n  final response = await http.delete(url, headers: _headers);\n\n  if (response.statusCode != 200 && response.statusCode != 204) {\n    throw Exception('L\u1ed7i: ${response.statusCode}');\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"http.delete()"})," - X\xf3a d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"?id=eq.$id"})," - Ch\u1ec9 \u0111\u1ecbnh record c\u1ea7n x\xf3a"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"7-x\xe2y-d\u1ef1ng-giao-di\u1ec7n-todo-app",children:"7. X\xe2y d\u1ef1ng giao di\u1ec7n Todo App"}),"\n",(0,s.jsx)(e.h3,{id:"71-m\xe0n-h\xecnh-todo-list",children:"7.1. M\xe0n h\xecnh Todo List"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// screens/todo_screen.dart\nimport 'package:flutter/material.dart';\nimport '../models/todo.dart';\nimport '../services/todo_api_service.dart';\n\nclass TodoScreen extends StatefulWidget {\n  const TodoScreen({super.key});\n\n  @override\n  State<TodoScreen> createState() => _TodoScreenState();\n}\n\nclass _TodoScreenState extends State<TodoScreen> {\n  final TextEditingController _controller = TextEditingController();\n  List<Todo> _todos = [];\n  bool _isLoading = true;\n\n  @override\n  void initState() {\n    super.initState();\n    _loadTodos();\n  }\n\n  // T\u1ea3i danh s\xe1ch t\u1eeb server\n  Future<void> _loadTodos() async {\n    setState(() => _isLoading = true);\n    try {\n      final todos = await TodoApiService.getTodos();\n      setState(() {\n        _todos = todos;\n        _isLoading = false;\n      });\n    } catch (e) {\n      setState(() => _isLoading = false);\n      _showError('Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u: $e');\n    }\n  }\n\n  // Th\xeam todo m\u1edbi\n  Future<void> _addTodo() async {\n    if (_controller.text.isEmpty) return;\n\n    try {\n      final newTodo = await TodoApiService.addTodo(_controller.text);\n      setState(() {\n        _todos.add(newTodo);\n        _controller.clear();\n      });\n    } catch (e) {\n      _showError('Kh\xf4ng th\u1ec3 th\xeam: $e');\n    }\n  }\n\n  // C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i\n  Future<void> _toggleTodo(Todo todo) async {\n    try {\n      await TodoApiService.updateTodo(todo.id!, !todo.isDone);\n      setState(() {\n        final index = _todos.indexWhere((t) => t.id == todo.id);\n        _todos[index] = Todo(\n          id: todo.id,\n          title: todo.title,\n          isDone: !todo.isDone,\n        );\n      });\n    } catch (e) {\n      _showError('Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt: $e');\n    }\n  }\n\n  // X\xf3a todo\n  Future<void> _deleteTodo(Todo todo) async {\n    try {\n      await TodoApiService.deleteTodo(todo.id!);\n      setState(() {\n        _todos.removeWhere((t) => t.id == todo.id);\n      });\n    } catch (e) {\n      _showError('Kh\xf4ng th\u1ec3 x\xf3a: $e');\n    }\n  }\n\n  void _showError(String message) {\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(content: Text(message), backgroundColor: Colors.red),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Todo List'),\n        actions: [\n          IconButton(\n            icon: const Icon(Icons.refresh),\n            onPressed: _loadTodos,\n          ),\n        ],\n      ),\n      body: Column(\n        children: [\n          // \xd4 nh\u1eadp todo\n          Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: TextField(\n              controller: _controller,\n              decoration: const InputDecoration(\n                hintText: 'Nh\u1eadp c\xf4ng vi\u1ec7c...',\n                border: OutlineInputBorder(),\n              ),\n              onSubmitted: (_) => _addTodo(),\n            ),\n          ),\n          // N\xfat th\xeam\n          ElevatedButton(\n            onPressed: _addTodo,\n            child: const Text('Th\xeam'),\n          ),\n          const SizedBox(height: 16),\n          // Danh s\xe1ch todo\n          Expanded(\n            child: _isLoading\n                ? const Center(child: CircularProgressIndicator())\n                : _todos.isEmpty\n                    ? const Center(child: Text('Ch\u01b0a c\xf3 c\xf4ng vi\u1ec7c n\xe0o'))\n                    : ListView.builder(\n                        itemCount: _todos.length,\n                        itemBuilder: (context, index) {\n                          final todo = _todos[index];\n                          return ListTile(\n                            leading: Checkbox(\n                              value: todo.isDone,\n                              onChanged: (_) => _toggleTodo(todo),\n                            ),\n                            title: Text(\n                              todo.title,\n                              style: TextStyle(\n                                decoration: todo.isDone\n                                    ? TextDecoration.lineThrough\n                                    : TextDecoration.none,\n                              ),\n                            ),\n                            trailing: IconButton(\n                              icon: const Icon(Icons.delete),\n                              onPressed: () => _deleteTodo(todo),\n                            ),\n                          );\n                        },\n                      ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"72-file-maindart",children:"7.2. File main.dart"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\nimport 'screens/todo_screen.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Todo App',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n        useMaterial3: true,\n      ),\n      home: const TodoScreen(),\n      debugShowCheckedModeBanner: false,\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"8-x\u1eed-l\xfd-loading-v\xe0-error",children:"8. X\u1eed l\xfd Loading v\xe0 Error"}),"\n",(0,s.jsx)(e.h3,{id:"81-hi\u1ec3n-th\u1ecb-loading",children:"8.1. Hi\u1ec3n th\u1ecb Loading"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// Trong State\nbool _isLoading = true;\n\n// Khi b\u1eaft \u0111\u1ea7u t\u1ea3i\nsetState(() => _isLoading = true);\n\n// Khi t\u1ea3i xong\nsetState(() => _isLoading = false);\n\n// Trong build()\nif (_isLoading) {\n  return const Center(child: CircularProgressIndicator());\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"82-x\u1eed-l\xfd-error-v\u1edbi-try-catch",children:"8.2. X\u1eed l\xfd Error v\u1edbi try-catch"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"Future<void> _loadTodos() async {\n  try {\n    final todos = await TodoApiService.getTodos();\n    setState(() => _todos = todos);\n  } catch (e) {\n    // Hi\u1ec3n th\u1ecb th\xf4ng b\xe1o l\u1ed7i\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text('L\u1ed7i: $e'),\n        backgroundColor: Colors.red,\n      ),\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"9-so-s\xe1nh-gemini-service-vs-todo-api-service",children:"9. So s\xe1nh: Gemini Service vs Todo API Service"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Th\xe0nh ph\u1ea7n"}),(0,s.jsx)(e.th,{children:"Gemini Service"}),(0,s.jsx)(e.th,{children:"Todo API Service"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"URL"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"https://api.gemini.com/..."})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"https://your-api.com/todos"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Method"})}),(0,s.jsx)(e.td,{children:"POST (g\u1eedi prompt)"}),(0,s.jsx)(e.td,{children:"GET, POST, PATCH, DELETE"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Headers"})}),(0,s.jsx)(e.td,{children:"Content-Type, API key"}),(0,s.jsx)(e.td,{children:"Content-Type, app-key"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Body"})}),(0,s.jsx)(e.td,{children:"Prompt text"}),(0,s.jsx)(e.td,{children:"Todo data (JSON)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Response"})}),(0,s.jsx)(e.td,{children:"AI generated text"}),(0,s.jsx)(e.td,{children:"Todo object(s)"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u0110i\u1ec3m gi\u1ed1ng nhau:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u0110\u1ec1u d\xf9ng ",(0,s.jsx)(e.code,{children:"package:http"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u0110\u1ec1u d\xf9ng ",(0,s.jsx)(e.code,{children:"async/await"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u0110\u1ec1u d\xf9ng ",(0,s.jsx)(e.code,{children:"jsonEncode"})," v\xe0 ",(0,s.jsx)(e.code,{children:"jsonDecode"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u0110\u1ec1u ki\u1ec3m tra ",(0,s.jsx)(e.code,{children:"statusCode"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"10-b\xe0i-t\u1eadp-v\u1ec1-nh\xe0",children:"10. B\xe0i t\u1eadp v\u1ec1 nh\xe0"}),"\n",(0,s.jsx)(e.h3,{id:"b\xe0i-t\u1eadp-1-th\xeam-ch\u1ee9c-n\u0103ng-s\u1eeda-ti\xeau-\u0111\u1ec1",children:"B\xe0i t\u1eadp 1: Th\xeam ch\u1ee9c n\u0103ng s\u1eeda ti\xeau \u0111\u1ec1"}),"\n",(0,s.jsx)(e.p,{children:"M\u1edf r\u1ed9ng \u1ee9ng d\u1ee5ng Todo:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Khi nh\u1ea5n v\xe0o ti\xeau \u0111\u1ec1 todo, hi\u1ec3n th\u1ecb dialog cho ph\xe9p s\u1eeda"}),"\n",(0,s.jsx)(e.li,{children:"G\u1ecdi API PATCH \u0111\u1ec3 c\u1eadp nh\u1eadt ti\xeau \u0111\u1ec1"}),"\n"]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Nh\u1ea5n v\xe0o \u0111\xe2y \u0111\u1ec3 xem g\u1ee3i \xfd"}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// Th\xeam v\xe0o TodoApiService\nstatic Future<void> updateTodoTitle(int id, String title) async {\n  final url = Uri.parse('${ApiConfig.baseUrl}/todos/$id');\n  final response = await http.patch(\n    url,\n    headers: _headers,\n    body: jsonEncode({'title': title}),\n  );\n  if (response.statusCode != 200 && response.statusCode != 204) {\n    throw Exception('Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt');\n  }\n}\n\n// Trong TodoScreen\nvoid _showEditDialog(Todo todo) {\n  final controller = TextEditingController(text: todo.title);\n  showDialog(\n    context: context,\n    builder: (context) => AlertDialog(\n      title: const Text('S\u1eeda c\xf4ng vi\u1ec7c'),\n      content: TextField(controller: controller),\n      actions: [\n        TextButton(\n          onPressed: () => Navigator.pop(context),\n          child: const Text('H\u1ee7y'),\n        ),\n        ElevatedButton(\n          onPressed: () async {\n            await TodoApiService.updateTodoTitle(todo.id!, controller.text);\n            Navigator.pop(context);\n            _loadTodos(); // T\u1ea3i l\u1ea1i danh s\xe1ch\n          },\n          child: const Text('L\u01b0u'),\n        ),\n      ],\n    ),\n  );\n}\n"})})]}),"\n",(0,s.jsx)(e.h3,{id:"b\xe0i-t\u1eadp-2-hi\u1ec3n-th\u1ecb-s\u1ed1-l\u01b0\u1ee3ng-todo",children:"B\xe0i t\u1eadp 2: Hi\u1ec3n th\u1ecb s\u1ed1 l\u01b0\u1ee3ng todo"}),"\n",(0,s.jsx)(e.p,{children:"Th\xeam th\xf4ng tin th\u1ed1ng k\xea:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"T\u1ed5ng s\u1ed1 todo"}),"\n",(0,s.jsx)(e.li,{children:"S\u1ed1 \u0111\xe3 ho\xe0n th\xe0nh"}),"\n",(0,s.jsx)(e.li,{children:"S\u1ed1 ch\u01b0a ho\xe0n th\xe0nh"}),"\n"]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Nh\u1ea5n v\xe0o \u0111\xe2y \u0111\u1ec3 xem g\u1ee3i \xfd"}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dart",children:"// Trong build(), th\xeam tr\u01b0\u1edbc ListView\nPadding(\n  padding: const EdgeInsets.all(16),\n  child: Row(\n    mainAxisAlignment: MainAxisAlignment.spaceAround,\n    children: [\n      Text('T\u1ed5ng: ${_todos.length}'),\n      Text('Ho\xe0n th\xe0nh: ${_todos.where((t) => t.isDone).length}'),\n      Text('C\xf2n l\u1ea1i: ${_todos.where((t) => !t.isDone).length}'),\n    ],\n  ),\n),\n"})})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"11-t\u1ed5ng-k\u1ebft",children:"11. T\u1ed5ng k\u1ebft"}),"\n",(0,s.jsx)(e.p,{children:"Trong b\xe0i h\u1ecdc n\xe0y, ch\xfang ta \u0111\xe3 h\u1ecdc:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Kh\xe1i ni\u1ec7m"}),(0,s.jsx)(e.th,{children:"M\xf4 t\u1ea3"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"HTTP"})}),(0,s.jsx)(e.td,{children:"Giao th\u1ee9c giao ti\u1ebfp gi\u1eefa app v\xe0 server"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"REST API"})}),(0,s.jsx)(e.td,{children:"Chu\u1ea9n thi\u1ebft k\u1ebf API s\u1eed d\u1ee5ng HTTP"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"GET/POST/PATCH/DELETE"})}),(0,s.jsx)(e.td,{children:"4 ph\u01b0\u01a1ng th\u1ee9c HTTP cho CRUD"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsxs)(e.strong,{children:["package",":http"]})}),(0,s.jsx)(e.td,{children:"Th\u01b0 vi\u1ec7n HTTP cho Flutter"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"JSON"})}),(0,s.jsx)(e.td,{children:"\u0110\u1ecbnh d\u1ea1ng d\u1eef li\u1ec7u trao \u0111\u1ed5i"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Quy tr\xecnh g\u1ecdi API trong Flutter:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Th\xeam th\u01b0 vi\u1ec7n http v\xe0o pubspec.yaml\n          \u2193\n2. T\u1ea1o Model class (VD: Todo)\n          \u2193\n3. T\u1ea1o API Service class\n          \u2193\n4. Implement c\xe1c h\xe0m: GET, POST, PATCH, DELETE\n          \u2193\n5. G\u1ecdi API t\u1eeb UI v\u1edbi async/await\n          \u2193\n6. X\u1eed l\xfd loading v\xe0 error\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"L\u01b0u \xfd quan tr\u1ecdng:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Lu\xf4n s\u1eed d\u1ee5ng ",(0,s.jsx)(e.code,{children:"async/await"})," khi g\u1ecdi API"]}),"\n",(0,s.jsxs)(e.li,{children:["Ki\u1ec3m tra ",(0,s.jsx)(e.code,{children:"statusCode"})," tr\u01b0\u1edbc khi x\u1eed l\xfd response"]}),"\n",(0,s.jsxs)(e.li,{children:["D\xf9ng ",(0,s.jsx)(e.code,{children:"try-catch"})," \u0111\u1ec3 b\u1eaft l\u1ed7i m\u1ea1ng"]}),"\n",(0,s.jsx)(e.li,{children:"Hi\u1ec3n th\u1ecb loading khi \u0111ang ch\u1edd response"}),"\n",(0,s.jsx)(e.li,{children:"Th\xf4ng b\xe1o l\u1ed7i r\xf5 r\xe0ng cho ng\u01b0\u1eddi d\xf9ng"}),"\n"]})]})}function a(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>r});var i=t(6540);const s={},d=i.createContext(s);function o(n){const e=i.useContext(d);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),i.createElement(d.Provider,{value:e},n.children)}}}]);