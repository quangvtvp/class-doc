"use strict";(self.webpackChunkclass_doc=self.webpackChunkclass_doc||[]).push([[1727],{4882:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Bai-16-memory-card-game","title":"B\xe0i 16: Memory Card Game v\u1edbi Animation & Sound","description":"Ho\xe0n thi\u1ec7n game l\u1eadt th\u1ebb t\xecm c\u1eb7p v\u1edbi hi\u1ec7u \u1ee9ng v\xe0 \xe2m thanh","source":"@site/lessons/Bai-16-memory-card-game.md","sourceDirName":".","slug":"/Bai-16-memory-card-game","permalink":"/class-doc/lessons/Bai-16-memory-card-game","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":16,"frontMatter":{"sidebar_position":16,"title":"B\xe0i 16: Memory Card Game v\u1edbi Animation & Sound","description":"Ho\xe0n thi\u1ec7n game l\u1eadt th\u1ebb t\xecm c\u1eb7p v\u1edbi hi\u1ec7u \u1ee9ng v\xe0 \xe2m thanh"},"sidebar":"lessonsSidebar","previous":{"title":"B\xe0i 15: ListView & GridView","permalink":"/class-doc/lessons/Bai-15-listview-gridview"}}');var d=i(4848),r=i(8453);const s={sidebar_position:16,title:"B\xe0i 16: Memory Card Game v\u1edbi Animation & Sound",description:"Ho\xe0n thi\u1ec7n game l\u1eadt th\u1ebb t\xecm c\u1eb7p v\u1edbi hi\u1ec7u \u1ee9ng v\xe0 \xe2m thanh"},l="B\xe0i 16: Memory Card Game v\u1edbi Animation & Sound",a={},c=[{value:"M\u1ee5c ti\xeau",id:"m\u1ee5c-ti\xeau",level:2},{value:"Ph\u1ea7n 1: Ph\xe2n t\xedch Game Logic",id:"ph\u1ea7n-1-ph\xe2n-t\xedch-game-logic",level:2},{value:"1.1 Lu\u1eadt ch\u01a1i",id:"11-lu\u1eadt-ch\u01a1i",level:3},{value:"1.2 C\xe1c tr\u1ea1ng th\xe1i c\u1ea7n qu\u1ea3n l\xfd",id:"12-c\xe1c-tr\u1ea1ng-th\xe1i-c\u1ea7n-qu\u1ea3n-l\xfd",level:3},{value:"1.3 Flow x\u1eed l\xfd khi tap th\u1ebb",id:"13-flow-x\u1eed-l\xfd-khi-tap-th\u1ebb",level:3},{value:"Ph\u1ea7n 2: X\xe2y d\u1ef1ng Game t\u1eebng b\u01b0\u1edbc",id:"ph\u1ea7n-2-x\xe2y-d\u1ef1ng-game-t\u1eebng-b\u01b0\u1edbc",level:2},{value:"B\u01b0\u1edbc 1: T\u1ea1o Model cho th\u1ebb b\xe0i",id:"b\u01b0\u1edbc-1-t\u1ea1o-model-cho-th\u1ebb-b\xe0i",level:3},{value:"B\u01b0\u1edbc 2: T\u1ea1o m\xe0n h\xecnh game c\u01a1 b\u1ea3n",id:"b\u01b0\u1edbc-2-t\u1ea1o-m\xe0n-h\xecnh-game-c\u01a1-b\u1ea3n",level:3},{value:"B\u01b0\u1edbc 3: Ch\u1ea1y th\u1eed game",id:"b\u01b0\u1edbc-3-ch\u1ea1y-th\u1eed-game",level:3},{value:"Ph\u1ea7n 3: Th\xeam Animation",id:"ph\u1ea7n-3-th\xeam-animation",level:2},{value:"3.1 AnimatedContainer l\xe0 g\xec?",id:"31-animatedcontainer-l\xe0-g\xec",level:3},{value:"3.2 C\u1eadp nh\u1eadt <code>_buildCard</code> v\u1edbi Animation",id:"32-c\u1eadp-nh\u1eadt-_buildcard-v\u1edbi-animation",level:3},{value:"3.3 Th\xeam hi\u1ec7u \u1ee9ng scale khi matched",id:"33-th\xeam-hi\u1ec7u-\u1ee9ng-scale-khi-matched",level:3},{value:"Ph\u1ea7n 4: Th\xeam \xc2m thanh",id:"ph\u1ea7n-4-th\xeam-\xe2m-thanh",level:2},{value:"4.1 C\xe0i \u0111\u1eb7t package <code>audioplayers</code>",id:"41-c\xe0i-\u0111\u1eb7t-package-audioplayers",level:3},{value:"4.2 Chu\u1ea9n b\u1ecb file \xe2m thanh",id:"42-chu\u1ea9n-b\u1ecb-file-\xe2m-thanh",level:3},{value:"4.3 T\xedch h\u1ee3p \xe2m thanh v\xe0o game",id:"43-t\xedch-h\u1ee3p-\xe2m-thanh-v\xe0o-game",level:3},{value:"4.4 S\u1eed d\u1ee5ng \xe2m thanh mi\u1ec5n ph\xed (n\u1ebfu kh\xf4ng c\xf3 file)",id:"44-s\u1eed-d\u1ee5ng-\xe2m-thanh-mi\u1ec5n-ph\xed-n\u1ebfu-kh\xf4ng-c\xf3-file",level:3},{value:"Ph\u1ea7n 5: Code ho\xe0n ch\u1ec9nh",id:"ph\u1ea7n-5-code-ho\xe0n-ch\u1ec9nh",level:2},{value:"Ph\u1ea7n 6: T\u1ed5ng k\u1ebft",id:"ph\u1ea7n-6-t\u1ed5ng-k\u1ebft",level:2},{value:"Ki\u1ebfn th\u1ee9c \u0111\xe3 h\u1ecdc",id:"ki\u1ebfn-th\u1ee9c-\u0111\xe3-h\u1ecdc",level:3},{value:"C\xe1c h\xe0m quan tr\u1ecdng",id:"c\xe1c-h\xe0m-quan-tr\u1ecdng",level:3},{value:"Checklist ho\xe0n th\xe0nh",id:"checklist-ho\xe0n-th\xe0nh",level:3},{value:"B\xe0i t\u1eadp v\u1ec1 nh\xe0",id:"b\xe0i-t\u1eadp-v\u1ec1-nh\xe0",level:2},{value:"B\xe0i t\u1eadp 1: Th\xeam b\u1ed9 \u0111\u1ebfm th\u1eddi gian \u23f1\ufe0f",id:"b\xe0i-t\u1eadp-1-th\xeam-b\u1ed9-\u0111\u1ebfm-th\u1eddi-gian-\ufe0f",level:3},{value:"B\xe0i t\u1eadp 2: Th\xeam m\xe0n ch\u01a1i \ud83c\udfae",id:"b\xe0i-t\u1eadp-2-th\xeam-m\xe0n-ch\u01a1i-",level:3},{value:"B\xe0i t\u1eadp 3: L\u01b0u k\u1ef7 l\u1ee5c \ud83c\udfc6",id:"b\xe0i-t\u1eadp-3-l\u01b0u-k\u1ef7-l\u1ee5c-",level:3},{value:"T\xe0i li\u1ec7u tham kh\u1ea3o",id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"b\xe0i-16-memory-card-game-v\u1edbi-animation--sound",children:"B\xe0i 16: Memory Card Game v\u1edbi Animation & Sound"})}),"\n",(0,d.jsxs)(e.p,{children:["Ch\xe0o c\xe1c em! \u1ede b\xe0i tr\u01b0\u1edbc, ch\xfang ta \u0111\xe3 h\u1ecdc c\xe1ch t\u1ea1o Grid v\xe0 hi\u1ec3n th\u1ecb c\xe1c th\u1ebb b\xe0i. H\xf4m nay, ch\xfang ta s\u1ebd ho\xe0n thi\u1ec7n game ",(0,d.jsx)(e.strong,{children:"Memory Card"})," v\u1edbi \u0111\u1ea7y \u0111\u1ee7:"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u2705 Logic so s\xe1nh 2 th\u1ebb"}),"\n",(0,d.jsx)(e.li,{children:"\u2705 \u0110\u1ebfm s\u1ed1 l\u01b0\u1ee3t ch\u01a1i"}),"\n",(0,d.jsx)(e.li,{children:"\u2705 Hi\u1ec7u \u1ee9ng animation \u0111\u01a1n gi\u1ea3n"}),"\n",(0,d.jsx)(e.li,{children:"\u2705 \xc2m thanh khi l\u1eadt th\u1ebb"}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"m\u1ee5c-ti\xeau",children:"M\u1ee5c ti\xeau"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Hi\u1ec3u logic game Memory Card (l\u1eadt th\u1ebb t\xecm c\u1eb7p)"}),"\n",(0,d.jsxs)(e.li,{children:["S\u1eed d\u1ee5ng ",(0,d.jsx)(e.code,{children:"Future.delayed"})," \u0111\u1ec3 t\u1ea1o delay"]}),"\n",(0,d.jsxs)(e.li,{children:["Th\xeam animation \u0111\u01a1n gi\u1ea3n v\u1edbi ",(0,d.jsx)(e.code,{children:"AnimatedContainer"})]}),"\n",(0,d.jsxs)(e.li,{children:["T\xedch h\u1ee3p \xe2m thanh v\u1edbi package ",(0,d.jsx)(e.code,{children:"audioplayers"})]}),"\n",(0,d.jsx)(e.li,{children:"Ho\xe0n th\xe0nh game c\xf3 th\u1ec3 ch\u01a1i \u0111\u01b0\u1ee3c!"}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-1-ph\xe2n-t\xedch-game-logic",children:"Ph\u1ea7n 1: Ph\xe2n t\xedch Game Logic"}),"\n",(0,d.jsx)(e.h3,{id:"11-lu\u1eadt-ch\u01a1i",children:"1.1 Lu\u1eadt ch\u01a1i"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"B\u1ea3ng 4x4 g\u1ed3m 16 th\u1ebb (8 c\u1eb7p emoji gi\u1ed1ng nhau)"}),"\n",(0,d.jsx)(e.li,{children:"C\xe1c th\u1ebb ban \u0111\u1ea7u \u0111\u1ec1u \xfap"}),"\n",(0,d.jsx)(e.li,{children:"Ng\u01b0\u1eddi ch\u01a1i tap \u0111\u1ec3 l\u1eadt th\u1ebb"}),"\n",(0,d.jsxs)(e.li,{children:["M\u1ed7i l\u01b0\u1ee3t l\u1eadt 2 th\u1ebb:","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["N\u1ebfu ",(0,d.jsx)(e.strong,{children:"gi\u1ed1ng nhau"})," \u2192 Gi\u1eef nguy\xean (matched \u2705)"]}),"\n",(0,d.jsxs)(e.li,{children:["N\u1ebfu ",(0,d.jsx)(e.strong,{children:"kh\xe1c nhau"})," \u2192 \xdap l\u1ea1i sau 1 gi\xe2y"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:"Th\u1eafng khi t\xecm \u0111\u01b0\u1ee3c t\u1ea5t c\u1ea3 8 c\u1eb7p"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"12-c\xe1c-tr\u1ea1ng-th\xe1i-c\u1ea7n-qu\u1ea3n-l\xfd",children:"1.2 C\xe1c tr\u1ea1ng th\xe1i c\u1ea7n qu\u1ea3n l\xfd"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Bi\u1ebfn"}),(0,d.jsx)(e.th,{children:"Ki\u1ec3u"}),(0,d.jsx)(e.th,{children:"M\xf4 t\u1ea3"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_cards"})}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"List<CardModel>"})}),(0,d.jsx)(e.td,{children:"Danh s\xe1ch 16 th\u1ebb"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_firstCardIndex"})}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"int?"})}),(0,d.jsx)(e.td,{children:"Index th\u1ebb \u0111\u1ea7u ti\xean \u0111\xe3 l\u1eadt"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_secondCardIndex"})}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"int?"})}),(0,d.jsx)(e.td,{children:"Index th\u1ebb th\u1ee9 hai \u0111\xe3 l\u1eadt"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_moves"})}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"int"})}),(0,d.jsx)(e.td,{children:"S\u1ed1 l\u01b0\u1ee3t \u0111\xe3 ch\u01a1i"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_isProcessing"})}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"bool"})}),(0,d.jsx)(e.td,{children:"\u0110ang x\u1eed l\xfd so s\xe1nh (kh\xf4ng cho tap)"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"13-flow-x\u1eed-l\xfd-khi-tap-th\u1ebb",children:"1.3 Flow x\u1eed l\xfd khi tap th\u1ebb"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"Game Logic Flow"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"Tap th\u1ebb\n    \u2502\n    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Ki\u1ec3m tra:                       \u2502\n\u2502 - \u0110ang x\u1eed l\xfd? \u2192 b\u1ecf qua          \u2502\n\u2502 - Th\u1ebb \u0111\xe3 l\u1eadt? \u2192 b\u1ecf qua          \u2502\n\u2502 - Th\u1ebb \u0111\xe3 matched? \u2192 b\u1ecf qua      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2502\n    \u25bc\nL\u1eadt th\u1ebb (isFlipped = true)\n    \u2502\n    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Th\u1ebb \u0111\u1ea7u ti\xean?   \u2502\u2500\u2500NO\u2500\u2500\u25b6 L\u01b0u th\u1ebb th\u1ee9 2        \u2502\n\u2502 (firstCard==null)       \u2502 T\u0103ng _moves          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502 \u0110\u1eb7t _isProcessing    \u2502\n         \u2502                \u2502 G\u1ecdi _checkMatch()    \u2502\n        YES               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n    L\u01b0u th\u1ebb \u0111\u1ea7u ti\xean\n"})})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-2-x\xe2y-d\u1ef1ng-game-t\u1eebng-b\u01b0\u1edbc",children:"Ph\u1ea7n 2: X\xe2y d\u1ef1ng Game t\u1eebng b\u01b0\u1edbc"}),"\n",(0,d.jsx)(e.h3,{id:"b\u01b0\u1edbc-1-t\u1ea1o-model-cho-th\u1ebb-b\xe0i",children:"B\u01b0\u1edbc 1: T\u1ea1o Model cho th\u1ebb b\xe0i"}),"\n",(0,d.jsxs)(e.p,{children:["T\u1ea1o file ",(0,d.jsx)(e.code,{children:"lib/models/card_model.dart"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"lib/models/card_model.dart"})]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"class CardModel {\n  final int id;           // ID duy nh\u1ea5t (0-15)\n  final String emoji;     // Emoji hi\u1ec3n th\u1ecb\n  bool isFlipped;         // \u0110ang l\u1eadt hay \xfap\n  bool isMatched;         // \u0110\xe3 t\xecm \u0111\u01b0\u1ee3c c\u1eb7p ch\u01b0a\n\n  CardModel({\n    required this.id,\n    required this.emoji,\n    this.isFlipped = false,\n    this.isMatched = false,\n  });\n}\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"b\u01b0\u1edbc-2-t\u1ea1o-m\xe0n-h\xecnh-game-c\u01a1-b\u1ea3n",children:"B\u01b0\u1edbc 2: T\u1ea1o m\xe0n h\xecnh game c\u01a1 b\u1ea3n"}),"\n",(0,d.jsxs)(e.p,{children:["T\u1ea1o file ",(0,d.jsx)(e.code,{children:"lib/screens/memory_game_screen.dart"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"lib/screens/memory_game_screen.dart"})," (Basic Game)"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\nimport '../models/card_model.dart';\n\nclass MemoryGameScreen extends StatefulWidget {\n  const MemoryGameScreen({super.key});\n\n  @override\n  State<MemoryGameScreen> createState() => _MemoryGameScreenState();\n}\n\nclass _MemoryGameScreenState extends State<MemoryGameScreen> {\n  // Danh s\xe1ch emoji (8 c\u1eb7p)\n  final List<String> _emojis = ['\ud83c\udfaf', '\ud83c\udf1f', '\ud83c\udfa8', '\ud83c\udfad', '\ud83c\udfaa', '\ud83c\udfa2', '\ud83c\udfa1', '\ud83c\udfa0'];\n  \n  // State c\u1ee7a game\n  List<CardModel> _cards = [];\n  int? _firstCardIndex;\n  int? _secondCardIndex;\n  int _moves = 0;\n  bool _isProcessing = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeGame();\n  }\n\n  // Kh\u1edfi t\u1ea1o game m\u1edbi\n  void _initializeGame() {\n    List<CardModel> cards = [];\n    \n    // T\u1ea1o 16 th\u1ebb (m\u1ed7i emoji 2 l\u1ea7n)\n    for (int i = 0; i < _emojis.length; i++) {\n      cards.add(CardModel(id: i * 2, emoji: _emojis[i]));\n      cards.add(CardModel(id: i * 2 + 1, emoji: _emojis[i]));\n    }\n    \n    // X\xe1o tr\u1ed9n\n    cards.shuffle();\n    \n    setState(() {\n      _cards = cards;\n      _firstCardIndex = null;\n      _secondCardIndex = null;\n      _moves = 0;\n      _isProcessing = false;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.grey.shade100,\n      appBar: AppBar(\n        title: const Text('Memory Card Game'),\n        centerTitle: true,\n        backgroundColor: Colors.deepPurple,\n        foregroundColor: Colors.white,\n      ),\n      body: SafeArea(\n        child: Padding(\n          padding: const EdgeInsets.all(16.0),\n          child: Column(\n            children: [\n              // Hi\u1ec3n th\u1ecb s\u1ed1 l\u01b0\u1ee3t\n              _buildScoreBoard(),\n              \n              const SizedBox(height: 16),\n              \n              // Grid th\u1ebb b\xe0i\n              Expanded(\n                child: _buildCardGrid(),\n              ),\n              \n              const SizedBox(height: 16),\n              \n              // N\xfat ch\u01a1i l\u1ea1i\n              _buildRestartButton(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildScoreBoard() {\n    return Container(\n      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 24),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.circular(20),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.deepPurple.withOpacity(0.1),\n            blurRadius: 10,\n            offset: const Offset(0, 4),\n          ),\n        ],\n      ),\n      child: Row(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          const Icon(Icons.touch_app, color: Colors.deepPurple),\n          const SizedBox(width: 8),\n          Text(\n            'S\u1ed1 l\u01b0\u1ee3t: $_moves',\n            style: const TextStyle(\n              fontSize: 18,\n              fontWeight: FontWeight.bold,\n              color: Colors.deepPurple,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildCardGrid() {\n    return GridView.builder(\n      physics: const NeverScrollableScrollPhysics(),\n      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: 4,\n        mainAxisSpacing: 8,\n        crossAxisSpacing: 8,\n        childAspectRatio: 1.0,\n      ),\n      itemCount: _cards.length,\n      itemBuilder: (context, index) {\n        return _buildCard(index);\n      },\n    );\n  }\n\n  Widget _buildCard(int index) {\n    final card = _cards[index];\n    final isVisible = card.isFlipped || card.isMatched;\n    \n    return GestureDetector(\n      onTap: () => _onCardTap(index),\n      child: Container(\n        decoration: BoxDecoration(\n          color: card.isMatched\n              ? Colors.green.shade100\n              : isVisible\n                  ? Colors.white\n                  : Colors.deepPurple,\n          borderRadius: BorderRadius.circular(12),\n          border: Border.all(\n            color: card.isMatched ? Colors.green : Colors.deepPurple.shade300,\n            width: 2,\n          ),\n          boxShadow: [\n            BoxShadow(\n              color: Colors.black.withOpacity(0.1),\n              blurRadius: 4,\n              offset: const Offset(0, 2),\n            ),\n          ],\n        ),\n        child: Center(\n          child: Text(\n            isVisible ? card.emoji : '?',\n            style: TextStyle(\n              fontSize: 32,\n              color: isVisible ? null : Colors.white,\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildRestartButton() {\n    return ElevatedButton.icon(\n      onPressed: _initializeGame,\n      icon: const Icon(Icons.refresh),\n      label: const Text('Ch\u01a1i l\u1ea1i'),\n      style: ElevatedButton.styleFrom(\n        backgroundColor: Colors.deepPurple,\n        foregroundColor: Colors.white,\n        minimumSize: const Size(200, 50),\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(25),\n        ),\n      ),\n    );\n  }\n\n  // X\u1eec L\xdd KHI TAP TH\u1eba\n  void _onCardTap(int index) {\n    // B\u1ecf qua n\u1ebfu \u0111ang x\u1eed l\xfd\n    if (_isProcessing) return;\n    // B\u1ecf qua n\u1ebfu th\u1ebb \u0111\xe3 l\u1eadt\n    if (_cards[index].isFlipped) return;\n    // B\u1ecf qua n\u1ebfu th\u1ebb \u0111\xe3 matched\n    if (_cards[index].isMatched) return;\n    \n    setState(() {\n      // L\u1eadt th\u1ebb\n      _cards[index].isFlipped = true;\n      \n      if (_firstCardIndex == null) {\n        // \u0110\xe2y l\xe0 th\u1ebb \u0111\u1ea7u ti\xean\n        _firstCardIndex = index;\n      } else {\n        // \u0110\xe2y l\xe0 th\u1ebb th\u1ee9 hai\n        _secondCardIndex = index;\n        _moves++;\n        _isProcessing = true;\n        \n        // Ki\u1ec3m tra sau 1 gi\xe2y\n        _checkMatch();\n      }\n    });\n  }\n\n  // KI\u1ec2M TRA 2 TH\u1eba C\xd3 GI\u1ed0NG NHAU KH\xd4NG\n  void _checkMatch() {\n    final firstCard = _cards[_firstCardIndex!];\n    final secondCard = _cards[_secondCardIndex!];\n    \n    // Delay 1 gi\xe2y \u0111\u1ec3 ng\u01b0\u1eddi ch\u01a1i nh\xecn th\u1ea5y 2 th\u1ebb\n    Future.delayed(const Duration(milliseconds: 1000), () {\n      // Ki\u1ec3m tra widget c\xf2n t\u1ed3n t\u1ea1i kh\xf4ng\n      if (!mounted) return;\n      \n      setState(() {\n        if (firstCard.emoji == secondCard.emoji) {\n          // MATCHED! \u0110\xe1nh d\u1ea5u c\u1ea3 2 th\u1ebb\n          firstCard.isMatched = true;\n          secondCard.isMatched = true;\n        } else {\n          // Kh\xf4ng kh\u1edbp, \xfap l\u1ea1i\n          firstCard.isFlipped = false;\n          secondCard.isFlipped = false;\n        }\n        \n        // Reset tr\u1ea1ng th\xe1i\n        _firstCardIndex = null;\n        _secondCardIndex = null;\n        _isProcessing = false;\n        \n        // Ki\u1ec3m tra th\u1eafng\n        _checkWin();\n      });\n    });\n  }\n\n  // KI\u1ec2M TRA TH\u1eaeNG\n  void _checkWin() {\n    final allMatched = _cards.every((card) => card.isMatched);\n    \n    if (allMatched) {\n      // Hi\u1ec3n th\u1ecb dialog th\u1eafng\n      showDialog(\n        context: context,\n        barrierDismissible: false,\n        builder: (context) => AlertDialog(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(20),\n          ),\n          title: const Text('\ud83c\udf89 Ch\xfac m\u1eebng!', textAlign: TextAlign.center),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              const Text('\ud83c\udfc6', style: TextStyle(fontSize: 60)),\n              const SizedBox(height: 16),\n              Text(\n                'Ho\xe0n th\xe0nh trong $_moves l\u01b0\u1ee3t!',\n                textAlign: TextAlign.center,\n                style: const TextStyle(fontSize: 18),\n              ),\n            ],\n          ),\n          actions: [\n            Center(\n              child: ElevatedButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _initializeGame();\n                },\n                style: ElevatedButton.styleFrom(\n                  backgroundColor: Colors.deepPurple,\n                  foregroundColor: Colors.white,\n                ),\n                child: const Text('Ch\u01a1i l\u1ea1i'),\n              ),\n            ),\n          ],\n        ),\n      );\n    }\n  }\n}\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"b\u01b0\u1edbc-3-ch\u1ea1y-th\u1eed-game",children:"B\u01b0\u1edbc 3: Ch\u1ea1y th\u1eed game"}),"\n",(0,d.jsxs)(e.p,{children:["C\u1eadp nh\u1eadt ",(0,d.jsx)(e.code,{children:"lib/main.dart"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"lib/main.dart"})]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\nimport 'screens/memory_game_screen.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Memory Card Game',\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      home: const MemoryGameScreen(),\n    );\n  }\n}\n"})})]}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\ud83c\udfae Ch\u1ea1y th\u1eed:"})," L\xfac n\xe0y game \u0111\xe3 ho\u1ea1t \u0111\u1ed9ng! B\u1ea1n c\xf3 th\u1ec3 l\u1eadt th\u1ebb v\xe0 t\xecm c\u1eb7p."]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-3-th\xeam-animation",children:"Ph\u1ea7n 3: Th\xeam Animation"}),"\n",(0,d.jsx)(e.h3,{id:"31-animatedcontainer-l\xe0-g\xec",children:"3.1 AnimatedContainer l\xe0 g\xec?"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.code,{children:"AnimatedContainer"})," t\u1ef1 \u0111\u1ed9ng animate khi c\xe1c thu\u1ed9c t\xednh thay \u0111\u1ed5i:"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"Code: AnimatedContainer example"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"AnimatedContainer(\n  duration: const Duration(milliseconds: 300),\n  width: isExpanded ? 200 : 100,\n  height: isExpanded ? 200 : 100,\n  color: isExpanded ? Colors.blue : Colors.red,\n  child: const Text('Tap me'),\n)\n"})})]}),"\n",(0,d.jsxs)(e.p,{children:["Khi ",(0,d.jsx)(e.code,{children:"isExpanded"})," thay \u0111\u1ed5i, Container s\u1ebd animate m\u01b0\u1ee3t m\xe0 gi\u1eefa 2 tr\u1ea1ng th\xe1i."]}),"\n",(0,d.jsxs)(e.h3,{id:"32-c\u1eadp-nh\u1eadt-_buildcard-v\u1edbi-animation",children:["3.2 C\u1eadp nh\u1eadt ",(0,d.jsx)(e.code,{children:"_buildCard"})," v\u1edbi Animation"]}),"\n",(0,d.jsxs)(e.p,{children:["Thay th\u1ebf h\xe0m ",(0,d.jsx)(e.code,{children:"_buildCard"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"_buildCard"})," with Animation"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"Widget _buildCard(int index) {\n  final card = _cards[index];\n  final isVisible = card.isFlipped || card.isMatched;\n  \n  return GestureDetector(\n    onTap: () => _onCardTap(index),\n    child: AnimatedContainer(\n      duration: const Duration(milliseconds: 300),\n      curve: Curves.easeInOut,\n      decoration: BoxDecoration(\n        color: card.isMatched\n            ? Colors.green.shade100\n            : isVisible\n                ? Colors.white\n                : Colors.deepPurple,\n        borderRadius: BorderRadius.circular(12),\n        border: Border.all(\n          color: card.isMatched ? Colors.green : Colors.deepPurple.shade300,\n          width: card.isMatched ? 3 : 2,\n        ),\n        boxShadow: [\n          BoxShadow(\n            color: (card.isMatched ? Colors.green : Colors.deepPurple)\n                .withOpacity(isVisible ? 0.3 : 0.1),\n            blurRadius: isVisible ? 8 : 4,\n            offset: const Offset(0, 2),\n          ),\n        ],\n      ),\n      child: Center(\n        child: AnimatedSwitcher(\n          duration: const Duration(milliseconds: 200),\n          child: Text(\n            isVisible ? card.emoji : '?',\n            key: ValueKey(isVisible),\n            style: TextStyle(\n              fontSize: isVisible ? 36 : 32,\n              color: isVisible ? null : Colors.white,\n            ),\n          ),\n        ),\n      ),\n    ),\n  );\n}\n"})})]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch:"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"AnimatedContainer"}),": Animate m\xe0u n\u1ec1n, border, shadow"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"AnimatedSwitcher"}),": Animate chuy\u1ec3n \u0111\u1ed5i gi\u1eefa ",(0,d.jsx)(e.code,{children:"?"})," v\xe0 emoji"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"curve: Curves.easeInOut"}),": Hi\u1ec7u \u1ee9ng m\u01b0\u1ee3t m\xe0"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"key: ValueKey(isVisible)"}),": Gi\xfap Flutter bi\u1ebft khi n\xe0o c\u1ea7n animate"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"33-th\xeam-hi\u1ec7u-\u1ee9ng-scale-khi-matched",children:"3.3 Th\xeam hi\u1ec7u \u1ee9ng scale khi matched"}),"\n",(0,d.jsx)(e.p,{children:"Th\xeam animation scale khi t\xecm \u0111\u01b0\u1ee3c c\u1eb7p:"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"_buildCard"})," with Scale Animation"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"Widget _buildCard(int index) {\n  final card = _cards[index];\n  final isVisible = card.isFlipped || card.isMatched;\n  \n  return GestureDetector(\n    onTap: () => _onCardTap(index),\n    child: AnimatedScale(\n      scale: card.isMatched ? 1.05 : 1.0,\n      duration: const Duration(milliseconds: 200),\n      child: AnimatedContainer(\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeInOut,\n        decoration: BoxDecoration(\n          color: card.isMatched\n              ? Colors.green.shade100\n              : isVisible\n                  ? Colors.white\n                  : Colors.deepPurple,\n          borderRadius: BorderRadius.circular(12),\n          border: Border.all(\n            color: card.isMatched ? Colors.green : Colors.deepPurple.shade300,\n            width: card.isMatched ? 3 : 2,\n          ),\n          boxShadow: [\n            BoxShadow(\n              color: (card.isMatched ? Colors.green : Colors.deepPurple)\n                  .withOpacity(isVisible ? 0.3 : 0.1),\n              blurRadius: isVisible ? 8 : 4,\n              offset: const Offset(0, 2),\n            ),\n          ],\n        ),\n        child: Center(\n          child: AnimatedSwitcher(\n            duration: const Duration(milliseconds: 200),\n            child: Text(\n              isVisible ? card.emoji : '?',\n              key: ValueKey(isVisible),\n              style: TextStyle(\n                fontSize: isVisible ? 36 : 32,\n                color: isVisible ? null : Colors.white,\n              ),\n            ),\n          ),\n        ),\n      ),\n    ),\n  );\n}\n"})})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-4-th\xeam-\xe2m-thanh",children:"Ph\u1ea7n 4: Th\xeam \xc2m thanh"}),"\n",(0,d.jsxs)(e.h3,{id:"41-c\xe0i-\u0111\u1eb7t-package-audioplayers",children:["4.1 C\xe0i \u0111\u1eb7t package ",(0,d.jsx)(e.code,{children:"audioplayers"})]}),"\n",(0,d.jsxs)(e.p,{children:["Th\xeam v\xe0o ",(0,d.jsx)(e.code,{children:"pubspec.yaml"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"pubspec.yaml"})," (Audio dependencies)"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"dependencies:\n  flutter:\n    sdk: flutter\n  audioplayers: ^5.2.1\n"})})]}),"\n",(0,d.jsx)(e.p,{children:"Ch\u1ea1y l\u1ec7nh:"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"Command: Install dependencies"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"flutter pub get\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"42-chu\u1ea9n-b\u1ecb-file-\xe2m-thanh",children:"4.2 Chu\u1ea9n b\u1ecb file \xe2m thanh"}),"\n",(0,d.jsxs)(e.p,{children:["T\u1ea1o th\u01b0 m\u1ee5c ",(0,d.jsx)(e.code,{children:"assets/sounds/"})," v\xe0 th\xeam c\xe1c file:"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"flip.mp3"})," - \xc2m thanh l\u1eadt th\u1ebb"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"match.mp3"})," - \xc2m thanh t\xecm \u0111\u01b0\u1ee3c c\u1eb7p"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"win.mp3"})," - \xc2m thanh chi\u1ebfn th\u1eafng"]}),"\n"]}),"\n",(0,d.jsxs)(e.p,{children:["Khai b\xe1o trong ",(0,d.jsx)(e.code,{children:"pubspec.yaml"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"pubspec.yaml"})," (Assets)"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"flutter:\n  assets:\n    - assets/sounds/\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"43-t\xedch-h\u1ee3p-\xe2m-thanh-v\xe0o-game",children:"4.3 T\xedch h\u1ee3p \xe2m thanh v\xe0o game"}),"\n",(0,d.jsxs)(e.p,{children:["C\u1eadp nh\u1eadt ",(0,d.jsx)(e.code,{children:"memory_game_screen.dart"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"MemoryGameScreen"})," with Audio"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\nimport 'package:audioplayers/audioplayers.dart';\nimport '../models/card_model.dart';\n\nclass MemoryGameScreen extends StatefulWidget {\n  const MemoryGameScreen({super.key});\n\n  @override\n  State<MemoryGameScreen> createState() => _MemoryGameScreenState();\n}\n\nclass _MemoryGameScreenState extends State<MemoryGameScreen> {\n  // Danh s\xe1ch emoji\n  final List<String> _emojis = ['\ud83c\udfaf', '\ud83c\udf1f', '\ud83c\udfa8', '\ud83c\udfad', '\ud83c\udfaa', '\ud83c\udfa2', '\ud83c\udfa1', '\ud83c\udfa0'];\n  \n  // State c\u1ee7a game\n  List<CardModel> _cards = [];\n  int? _firstCardIndex;\n  int? _secondCardIndex;\n  int _moves = 0;\n  bool _isProcessing = false;\n\n  // TH\xcaM M\u1edaI: Audio players\n  final AudioPlayer _flipPlayer = AudioPlayer();\n  final AudioPlayer _matchPlayer = AudioPlayer();\n  final AudioPlayer _winPlayer = AudioPlayer();\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeGame();\n  }\n\n  @override\n  void dispose() {\n    // QUAN TR\u1eccNG: Gi\u1ea3i ph\xf3ng audio players\n    _flipPlayer.dispose();\n    _matchPlayer.dispose();\n    _winPlayer.dispose();\n    super.dispose();\n  }\n\n  // Ph\xe1t \xe2m thanh l\u1eadt th\u1ebb\n  Future<void> _playFlipSound() async {\n    await _flipPlayer.play(AssetSource('sounds/flip.mp3'));\n  }\n\n  // Ph\xe1t \xe2m thanh matched\n  Future<void> _playMatchSound() async {\n    await _matchPlayer.play(AssetSource('sounds/match.mp3'));\n  }\n\n  // Ph\xe1t \xe2m thanh chi\u1ebfn th\u1eafng\n  Future<void> _playWinSound() async {\n    await _winPlayer.play(AssetSource('sounds/win.mp3'));\n  }\n\n  void _initializeGame() {\n    List<CardModel> cards = [];\n    \n    for (int i = 0; i < _emojis.length; i++) {\n      cards.add(CardModel(id: i * 2, emoji: _emojis[i]));\n      cards.add(CardModel(id: i * 2 + 1, emoji: _emojis[i]));\n    }\n    \n    cards.shuffle();\n    \n    setState(() {\n      _cards = cards;\n      _firstCardIndex = null;\n      _secondCardIndex = null;\n      _moves = 0;\n      _isProcessing = false;\n    });\n  }\n\n  void _onCardTap(int index) {\n    if (_isProcessing) return;\n    if (_cards[index].isFlipped) return;\n    if (_cards[index].isMatched) return;\n    \n    // TH\xcaM: Ph\xe1t \xe2m thanh l\u1eadt th\u1ebb\n    _playFlipSound();\n    \n    setState(() {\n      _cards[index].isFlipped = true;\n      \n      if (_firstCardIndex == null) {\n        _firstCardIndex = index;\n      } else {\n        _secondCardIndex = index;\n        _moves++;\n        _isProcessing = true;\n        _checkMatch();\n      }\n    });\n  }\n\n  void _checkMatch() {\n    final firstCard = _cards[_firstCardIndex!];\n    final secondCard = _cards[_secondCardIndex!];\n    \n    Future.delayed(const Duration(milliseconds: 800), () {\n      if (!mounted) return;\n      \n      setState(() {\n        if (firstCard.emoji == secondCard.emoji) {\n          firstCard.isMatched = true;\n          secondCard.isMatched = true;\n          \n          // TH\xcaM: Ph\xe1t \xe2m thanh matched\n          _playMatchSound();\n        } else {\n          firstCard.isFlipped = false;\n          secondCard.isFlipped = false;\n        }\n        \n        _firstCardIndex = null;\n        _secondCardIndex = null;\n        _isProcessing = false;\n        \n        _checkWin();\n      });\n    });\n  }\n\n  void _checkWin() {\n    final allMatched = _cards.every((card) => card.isMatched);\n    \n    if (allMatched) {\n      // TH\xcaM: Ph\xe1t \xe2m thanh chi\u1ebfn th\u1eafng\n      _playWinSound();\n      \n      showDialog(\n        context: context,\n        barrierDismissible: false,\n        builder: (context) => AlertDialog(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(20),\n          ),\n          title: const Text('\ud83c\udf89 Ch\xfac m\u1eebng!', textAlign: TextAlign.center),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              const Text('\ud83c\udfc6', style: TextStyle(fontSize: 60)),\n              const SizedBox(height: 16),\n              Text(\n                'Ho\xe0n th\xe0nh trong $_moves l\u01b0\u1ee3t!',\n                textAlign: TextAlign.center,\n                style: const TextStyle(fontSize: 18),\n              ),\n            ],\n          ),\n          actions: [\n            Center(\n              child: ElevatedButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _initializeGame();\n                },\n                style: ElevatedButton.styleFrom(\n                  backgroundColor: Colors.deepPurple,\n                  foregroundColor: Colors.white,\n                ),\n                child: const Text('Ch\u01a1i l\u1ea1i'),\n              ),\n            ),\n          ],\n        ),\n      );\n    }\n  }\n\n  // ... ph\u1ea7n build gi\u1eef nguy\xean ...\n}\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"44-s\u1eed-d\u1ee5ng-\xe2m-thanh-mi\u1ec5n-ph\xed-n\u1ebfu-kh\xf4ng-c\xf3-file",children:"4.4 S\u1eed d\u1ee5ng \xe2m thanh mi\u1ec5n ph\xed (n\u1ebfu kh\xf4ng c\xf3 file)"}),"\n",(0,d.jsx)(e.p,{children:"N\u1ebfu ch\u01b0a c\xf3 file \xe2m thanh, b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng \xe2m thanh t\u1eeb URL:"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"Code: UrlSource example"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"// Thay v\xec AssetSource, d\xf9ng UrlSource\nawait _flipPlayer.play(UrlSource('https://example.com/flip.mp3'));\n"})})]}),"\n",(0,d.jsxs)(e.p,{children:["Ho\u1eb7c t\u1ea1o \xe2m thanh \u0111\u01a1n gi\u1ea3n v\u1edbi ",(0,d.jsx)(e.code,{children:"flutter_beep"})," package."]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-5-code-ho\xe0n-ch\u1ec9nh",children:"Ph\u1ea7n 5: Code ho\xe0n ch\u1ec9nh"}),"\n",(0,d.jsxs)(e.p,{children:["\u0110\xe2y l\xe0 code \u0111\u1ea7y \u0111\u1ee7 cho file ",(0,d.jsx)(e.code,{children:"lib/screens/memory_game_screen.dart"}),":"]}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsxs)("summary",{children:["Code: ",(0,d.jsx)(e.code,{children:"MemoryGameScreen"})," Full Implementation"]}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\n// import 'package:audioplayers/audioplayers.dart'; // Uncomment khi c\xf3 file \xe2m thanh\n\nclass CardModel {\n  final int id;\n  final String emoji;\n  bool isFlipped;\n  bool isMatched;\n\n  CardModel({\n    required this.id,\n    required this.emoji,\n    this.isFlipped = false,\n    this.isMatched = false,\n  });\n}\n\nclass MemoryGameScreen extends StatefulWidget {\n  const MemoryGameScreen({super.key});\n\n  @override\n  State<MemoryGameScreen> createState() => _MemoryGameScreenState();\n}\n\nclass _MemoryGameScreenState extends State<MemoryGameScreen> {\n  final List<String> _emojis = ['\ud83c\udfaf', '\ud83c\udf1f', '\ud83c\udfa8', '\ud83c\udfad', '\ud83c\udfaa', '\ud83c\udfa2', '\ud83c\udfa1', '\ud83c\udfa0'];\n  \n  List<CardModel> _cards = [];\n  int? _firstCardIndex;\n  int? _secondCardIndex;\n  int _moves = 0;\n  bool _isProcessing = false;\n\n  // Uncomment khi c\xf3 file \xe2m thanh:\n  // final AudioPlayer _flipPlayer = AudioPlayer();\n  // final AudioPlayer _matchPlayer = AudioPlayer();\n  // final AudioPlayer _winPlayer = AudioPlayer();\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeGame();\n  }\n\n  @override\n  void dispose() {\n    // Uncomment khi c\xf3 audio players:\n    // _flipPlayer.dispose();\n    // _matchPlayer.dispose();\n    // _winPlayer.dispose();\n    super.dispose();\n  }\n\n  void _initializeGame() {\n    List<CardModel> cards = [];\n    \n    for (int i = 0; i < _emojis.length; i++) {\n      cards.add(CardModel(id: i * 2, emoji: _emojis[i]));\n      cards.add(CardModel(id: i * 2 + 1, emoji: _emojis[i]));\n    }\n    \n    cards.shuffle();\n    \n    setState(() {\n      _cards = cards;\n      _firstCardIndex = null;\n      _secondCardIndex = null;\n      _moves = 0;\n      _isProcessing = false;\n    });\n  }\n\n  void _onCardTap(int index) {\n    if (_isProcessing) return;\n    if (_cards[index].isFlipped) return;\n    if (_cards[index].isMatched) return;\n    \n    // Ph\xe1t \xe2m thanh l\u1eadt th\u1ebb (uncomment khi c\xf3 audio):\n    // _flipPlayer.play(AssetSource('sounds/flip.mp3'));\n    \n    setState(() {\n      _cards[index].isFlipped = true;\n      \n      if (_firstCardIndex == null) {\n        _firstCardIndex = index;\n      } else {\n        _secondCardIndex = index;\n        _moves++;\n        _isProcessing = true;\n        _checkMatch();\n      }\n    });\n  }\n\n  void _checkMatch() {\n    final firstCard = _cards[_firstCardIndex!];\n    final secondCard = _cards[_secondCardIndex!];\n    \n    Future.delayed(const Duration(milliseconds: 800), () {\n      if (!mounted) return;\n      \n      setState(() {\n        if (firstCard.emoji == secondCard.emoji) {\n          firstCard.isMatched = true;\n          secondCard.isMatched = true;\n          // Ph\xe1t \xe2m thanh matched:\n          // _matchPlayer.play(AssetSource('sounds/match.mp3'));\n        } else {\n          firstCard.isFlipped = false;\n          secondCard.isFlipped = false;\n        }\n        \n        _firstCardIndex = null;\n        _secondCardIndex = null;\n        _isProcessing = false;\n        \n        _checkWin();\n      });\n    });\n  }\n\n  void _checkWin() {\n    final allMatched = _cards.every((card) => card.isMatched);\n    \n    if (allMatched) {\n      // Ph\xe1t \xe2m thanh chi\u1ebfn th\u1eafng:\n      // _winPlayer.play(AssetSource('sounds/win.mp3'));\n      \n      showDialog(\n        context: context,\n        barrierDismissible: false,\n        builder: (context) => AlertDialog(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(20),\n          ),\n          title: const Text('\ud83c\udf89 Ch\xfac m\u1eebng!', textAlign: TextAlign.center),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              const Text('\ud83c\udfc6', style: TextStyle(fontSize: 60)),\n              const SizedBox(height: 16),\n              Text(\n                'Ho\xe0n th\xe0nh trong $_moves l\u01b0\u1ee3t!',\n                textAlign: TextAlign.center,\n                style: const TextStyle(fontSize: 18),\n              ),\n              const SizedBox(height: 8),\n              Text(\n                _getPerformanceMessage(),\n                style: TextStyle(\n                  color: Colors.grey.shade600,\n                  fontSize: 14,\n                ),\n              ),\n            ],\n          ),\n          actions: [\n            Center(\n              child: ElevatedButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _initializeGame();\n                },\n                style: ElevatedButton.styleFrom(\n                  backgroundColor: Colors.deepPurple,\n                  foregroundColor: Colors.white,\n                ),\n                child: const Text('Ch\u01a1i l\u1ea1i'),\n              ),\n            ),\n          ],\n        ),\n      );\n    }\n  }\n\n  String _getPerformanceMessage() {\n    if (_moves <= 10) return '\ud83c\udf1f Xu\u1ea5t s\u1eafc! Tr\xed nh\u1edb si\xeau ph\xe0m!';\n    if (_moves <= 15) return '\ud83d\udc4f Tuy\u1ec7t v\u1eddi! B\u1ea1n r\u1ea5t gi\u1ecfi!';\n    if (_moves <= 20) return '\ud83d\udc4d Kh\xe1 t\u1ed1t! Ti\u1ebfp t\u1ee5c c\u1ed1 g\u1eafng!';\n    return '\ud83d\udcaa C\u1ed1 g\u1eafng l\xean! L\u1ea7n sau s\u1ebd t\u1ed1t h\u01a1n!';\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.grey.shade100,\n      appBar: AppBar(\n        title: const Text('Memory Card Game'),\n        centerTitle: true,\n        backgroundColor: Colors.deepPurple,\n        foregroundColor: Colors.white,\n        elevation: 0,\n      ),\n      body: SafeArea(\n        child: Padding(\n          padding: const EdgeInsets.all(16.0),\n          child: Column(\n            children: [\n              _buildScoreBoard(),\n              const SizedBox(height: 24),\n              Expanded(child: _buildCardGrid()),\n              const SizedBox(height: 24),\n              _buildRestartButton(),\n              const SizedBox(height: 16),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildScoreBoard() {\n    final matchedPairs = _cards.where((c) => c.isMatched).length ~/ 2;\n    \n    return Container(\n      padding: const EdgeInsets.symmetric(vertical: 16, horizontal: 24),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.circular(20),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.deepPurple.withOpacity(0.1),\n            blurRadius: 10,\n            offset: const Offset(0, 4),\n          ),\n        ],\n      ),\n      child: Row(\n        mainAxisAlignment: MainAxisAlignment.spaceAround,\n        children: [\n          Column(\n            children: [\n              const Icon(Icons.touch_app, color: Colors.deepPurple, size: 28),\n              const SizedBox(height: 4),\n              Text(\n                '$_moves',\n                style: const TextStyle(\n                  fontSize: 24,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.deepPurple,\n                ),\n              ),\n              const Text('L\u01b0\u1ee3t', style: TextStyle(color: Colors.grey)),\n            ],\n          ),\n          Container(\n            width: 1,\n            height: 50,\n            color: Colors.grey.shade300,\n          ),\n          Column(\n            children: [\n              const Icon(Icons.check_circle, color: Colors.green, size: 28),\n              const SizedBox(height: 4),\n              Text(\n                '$matchedPairs / 8',\n                style: const TextStyle(\n                  fontSize: 24,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.green,\n                ),\n              ),\n              const Text('C\u1eb7p', style: TextStyle(color: Colors.grey)),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildCardGrid() {\n    return Center(\n      child: AspectRatio(\n        aspectRatio: 1.0,\n        child: GridView.builder(\n          physics: const NeverScrollableScrollPhysics(),\n          gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(\n            crossAxisCount: 4,\n            mainAxisSpacing: 8,\n            crossAxisSpacing: 8,\n            childAspectRatio: 1.0,\n          ),\n          itemCount: _cards.length,\n          itemBuilder: (context, index) => _buildCard(index),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildCard(int index) {\n    final card = _cards[index];\n    final isVisible = card.isFlipped || card.isMatched;\n    \n    return GestureDetector(\n      onTap: () => _onCardTap(index),\n      child: AnimatedScale(\n        scale: card.isMatched ? 1.05 : 1.0,\n        duration: const Duration(milliseconds: 200),\n        child: AnimatedContainer(\n          duration: const Duration(milliseconds: 300),\n          curve: Curves.easeInOut,\n          decoration: BoxDecoration(\n            color: card.isMatched\n                ? Colors.green.shade100\n                : isVisible\n                    ? Colors.white\n                    : Colors.deepPurple,\n            borderRadius: BorderRadius.circular(12),\n            border: Border.all(\n              color: card.isMatched ? Colors.green : Colors.deepPurple.shade300,\n              width: card.isMatched ? 3 : 2,\n            ),\n            boxShadow: [\n              BoxShadow(\n                color: (card.isMatched ? Colors.green : Colors.deepPurple)\n                    .withOpacity(isVisible ? 0.3 : 0.1),\n                blurRadius: isVisible ? 8 : 4,\n                offset: const Offset(0, 2),\n              ),\n            ],\n          ),\n          child: Center(\n            child: AnimatedSwitcher(\n              duration: const Duration(milliseconds: 200),\n              child: Text(\n                isVisible ? card.emoji : '?',\n                key: ValueKey(isVisible),\n                style: TextStyle(\n                  fontSize: isVisible ? 36 : 32,\n                  color: isVisible ? null : Colors.white,\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildRestartButton() {\n    return ElevatedButton.icon(\n      onPressed: _initializeGame,\n      icon: const Icon(Icons.refresh),\n      label: const Text('Ch\u01a1i l\u1ea1i'),\n      style: ElevatedButton.styleFrom(\n        backgroundColor: Colors.deepPurple,\n        foregroundColor: Colors.white,\n        minimumSize: const Size(200, 50),\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(25),\n        ),\n      ),\n    );\n  }\n}\n"})})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"ph\u1ea7n-6-t\u1ed5ng-k\u1ebft",children:"Ph\u1ea7n 6: T\u1ed5ng k\u1ebft"}),"\n",(0,d.jsx)(e.h3,{id:"ki\u1ebfn-th\u1ee9c-\u0111\xe3-h\u1ecdc",children:"Ki\u1ebfn th\u1ee9c \u0111\xe3 h\u1ecdc"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"Ch\u1ee7 \u0111\u1ec1"}),(0,d.jsx)(e.th,{children:"Ki\u1ebfn th\u1ee9c"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"Game Logic"}),(0,d.jsx)(e.td,{children:"Qu\u1ea3n l\xfd state ph\u1ee9c t\u1ea1p, so s\xe1nh 2 item"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"X\u1eed l\xfd b\u1ea5t \u0111\u1ed3ng b\u1ed9"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"Future.delayed"}),", ",(0,d.jsx)(e.code,{children:"mounted"})," check"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"Animation"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"AnimatedContainer"}),", ",(0,d.jsx)(e.code,{children:"AnimatedScale"}),", ",(0,d.jsx)(e.code,{children:"AnimatedSwitcher"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"Sound"}),(0,d.jsxs)(e.td,{children:["Package ",(0,d.jsx)(e.code,{children:"audioplayers"}),", ",(0,d.jsx)(e.code,{children:"AssetSource"})]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"UX"}),(0,d.jsx)(e.td,{children:"Dialog th\u1eafng, hi\u1ec3n th\u1ecb \u0111i\u1ec3m, feedback \xe2m thanh"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"c\xe1c-h\xe0m-quan-tr\u1ecdng",children:"C\xe1c h\xe0m quan tr\u1ecdng"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"H\xe0m"}),(0,d.jsx)(e.th,{children:"Ch\u1ee9c n\u0103ng"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_initializeGame()"})}),(0,d.jsx)(e.td,{children:"Reset game, x\xe1o tr\u1ed9n th\u1ebb"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_onCardTap(index)"})}),(0,d.jsx)(e.td,{children:"X\u1eed l\xfd khi ng\u01b0\u1eddi ch\u01a1i tap th\u1ebb"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_checkMatch()"})}),(0,d.jsx)(e.td,{children:"So s\xe1nh 2 th\u1ebb \u0111\xe3 l\u1eadt"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"_checkWin()"})}),(0,d.jsx)(e.td,{children:"Ki\u1ec3m tra th\u1eafng game"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"checklist-ho\xe0n-th\xe0nh",children:"Checklist ho\xe0n th\xe0nh"}),"\n",(0,d.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Hi\u1ec3u logic game Memory Card"]}),"\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","T\u1ea1o \u0111\u01b0\u1ee3c Model cho th\u1ebb b\xe0i"]}),"\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","X\u1eed l\xfd \u0111\u01b0\u1ee3c tap v\xe0 so s\xe1nh 2 th\u1ebb"]}),"\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Th\xeam animation v\u1edbi ",(0,d.jsx)(e.code,{children:"AnimatedContainer"})]}),"\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","T\xedch h\u1ee3p \xe2m thanh (t\xf9y ch\u1ecdn)"]}),"\n",(0,d.jsxs)(e.li,{className:"task-list-item",children:[(0,d.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Game ho\u1ea1t \u0111\u1ed9ng \u0111\u1ea7y \u0111\u1ee7!"]}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"b\xe0i-t\u1eadp-v\u1ec1-nh\xe0",children:"B\xe0i t\u1eadp v\u1ec1 nh\xe0"}),"\n",(0,d.jsx)(e.h3,{id:"b\xe0i-t\u1eadp-1-th\xeam-b\u1ed9-\u0111\u1ebfm-th\u1eddi-gian-\ufe0f",children:"B\xe0i t\u1eadp 1: Th\xeam b\u1ed9 \u0111\u1ebfm th\u1eddi gian \u23f1\ufe0f"}),"\n",(0,d.jsx)(e.p,{children:"Th\xeam timer \u0111\u1ebfm ng\u01b0\u1ee3c t\u1eeb 60 gi\xe2y. H\u1ebft gi\u1edd \u2192 Game Over."}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"G\u1ee3i \xfd:"})}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"Answer: Exercise 1 - Timer"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-dart",children:"import 'dart:async';\n\nTimer? _timer;\nint _timeLeft = 60;\n\nvoid _startTimer() {\n  _timer = Timer.periodic(const Duration(seconds: 1), (timer) {\n    if (_timeLeft > 0) {\n      setState(() => _timeLeft--);\n    } else {\n      timer.cancel();\n      _showGameOver();\n    }\n  });\n}\n"})})]}),"\n",(0,d.jsx)(e.h3,{id:"b\xe0i-t\u1eadp-2-th\xeam-m\xe0n-ch\u01a1i-",children:"B\xe0i t\u1eadp 2: Th\xeam m\xe0n ch\u01a1i \ud83c\udfae"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Level 1: Grid 3x4 (6 c\u1eb7p) - 45 gi\xe2y"}),"\n",(0,d.jsx)(e.li,{children:"Level 2: Grid 4x4 (8 c\u1eb7p) - 60 gi\xe2y"}),"\n",(0,d.jsx)(e.li,{children:"Level 3: Grid 4x5 (10 c\u1eb7p) - 90 gi\xe2y"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"b\xe0i-t\u1eadp-3-l\u01b0u-k\u1ef7-l\u1ee5c-",children:"B\xe0i t\u1eadp 3: L\u01b0u k\u1ef7 l\u1ee5c \ud83c\udfc6"}),"\n",(0,d.jsxs)(e.p,{children:["S\u1eed d\u1ee5ng ",(0,d.jsx)(e.code,{children:"shared_preferences"})," \u0111\u1ec3 l\u01b0u best score (s\u1ed1 l\u01b0\u1ee3t \xedt nh\u1ea5t)."]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",children:"T\xe0i li\u1ec7u tham kh\u1ea3o"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://api.flutter.dev/flutter/widgets/AnimatedContainer-class.html",children:"AnimatedContainer - Flutter docs"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://pub.dev/packages/audioplayers",children:"audioplayers package"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://docs.flutter.dev/ui/animations/implicit-animations",children:"Implicit Animations - Flutter docs"})}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"B\xe0i ti\u1ebfp theo:"})," B\xe0i 16 - Navigation v\xe0 Multi-screen App \ud83d\ude80"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(o,{...n})}):o(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>l});var t=i(6540);const d={},r=t.createContext(d);function s(n){const e=t.useContext(r);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);