"use strict";(self.webpackChunkclass_doc=self.webpackChunkclass_doc||[]).push([[9278],{1030:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>s});const i=JSON.parse('{"id":"Bai-17-navigation-data-passing","title":"B\xe0i 17: \u0110i\u1ec1u H\u01b0\u1edbng (Navigation) & Truy\u1ec1n D\u1eef Li\u1ec7u Trong Flutter","description":"B\xe0i h\u1ecdc n\xe0y gi\xfap b\u1ea1n hi\u1ec3u c\xe1ch chuy\u1ec3n \u0111\u1ed5i gi\u1eefa c\xe1c m\xe0n h\xecnh trong \u1ee9ng d\u1ee5ng, c\xe1ch g\u1eedi d\u1eef li\u1ec7u \u0111i v\xe0 nh\u1eadn k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1.","source":"@site/lessons/Bai-17-navigation-data-passing.md","sourceDirName":".","slug":"/Bai-17-navigation-data-passing","permalink":"/class-doc/lessons/Bai-17-navigation-data-passing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"lessonsSidebar","previous":{"title":"B\xe0i 16: Memory Card Game","permalink":"/class-doc/lessons/Bai-16-memory-card-game"}}');var r=t(4848),o=t(8453);const a={},c="B\xe0i 17: \u0110i\u1ec1u H\u01b0\u1edbng (Navigation) & Truy\u1ec1n D\u1eef Li\u1ec7u Trong Flutter",l={},s=[{value:"1. C\u01a1 ch\u1ebf Navigator (Ng\u0103n x\u1ebfp)",id:"1-c\u01a1-ch\u1ebf-navigator-ng\u0103n-x\u1ebfp",level:2},{value:"V\xed d\u1ee5 c\u01a1 b\u1ea3n:",id:"v\xed-d\u1ee5-c\u01a1-b\u1ea3n",level:3},{value:"2. Truy\u1ec1n D\u1eef Li\u1ec7u \u0110i (Forward Data)",id:"2-truy\u1ec1n-d\u1eef-li\u1ec7u-\u0111i-forward-data",level:2},{value:"Code m\u1eabu:",id:"code-m\u1eabu",level:3},{value:"3. Nh\u1eadn D\u1eef Li\u1ec7u Tr\u1ea3 V\u1ec1 (Backward Data)",id:"3-nh\u1eadn-d\u1eef-li\u1ec7u-tr\u1ea3-v\u1ec1-backward-data",level:2},{value:"Code m\u1eabu:",id:"code-m\u1eabu-1",level:3},{value:"4. Th\u1ef1c H\xe0nh",id:"4-th\u1ef1c-h\xe0nh",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components},{Details:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"b\xe0i-17-\u0111i\u1ec1u-h\u01b0\u1edbng-navigation--truy\u1ec1n-d\u1eef-li\u1ec7u-trong-flutter",children:"B\xe0i 17: \u0110i\u1ec1u H\u01b0\u1edbng (Navigation) & Truy\u1ec1n D\u1eef Li\u1ec7u Trong Flutter"})}),"\n",(0,r.jsx)(e.p,{children:"B\xe0i h\u1ecdc n\xe0y gi\xfap b\u1ea1n hi\u1ec3u c\xe1ch chuy\u1ec3n \u0111\u1ed5i gi\u1eefa c\xe1c m\xe0n h\xecnh trong \u1ee9ng d\u1ee5ng, c\xe1ch g\u1eedi d\u1eef li\u1ec7u \u0111i v\xe0 nh\u1eadn k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-c\u01a1-ch\u1ebf-navigator-ng\u0103n-x\u1ebfp",children:"1. C\u01a1 ch\u1ebf Navigator (Ng\u0103n x\u1ebfp)"}),"\n",(0,r.jsxs)(e.p,{children:["Flutter qu\u1ea3n l\xfd c\xe1c m\xe0n h\xecnh (Screen/Route) theo c\u01a1 ch\u1ebf ",(0,r.jsx)(e.strong,{children:"Stack (Ng\u0103n x\u1ebfp)"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Push"}),": \u0110\u1ea9y m\u1ed9t m\xe0n h\xecnh m\u1edbi l\xean tr\xean c\xf9ng (ng\u01b0\u1eddi d\xf9ng nh\xecn th\u1ea5y m\xe0n h\xecnh n\xe0y)."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Pop"}),": G\u1ee1 m\xe0n h\xecnh tr\xean c\xf9ng ra (quay l\u1ea1i m\xe0n h\xecnh tr\u01b0\u1edbc \u0111\xf3)."]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"v\xed-d\u1ee5-c\u01a1-b\u1ea3n",children:"V\xed d\u1ee5 c\u01a1 b\u1ea3n:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"// Chuy\u1ec3n sang m\xe0n h\xecnh m\u1edbi\nNavigator.push(\n  context,\n  MaterialPageRoute(builder: (context) => SecondScreen()),\n);\n\n// Quay l\u1ea1i\nNavigator.pop(context);\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-truy\u1ec1n-d\u1eef-li\u1ec7u-\u0111i-forward-data",children:"2. Truy\u1ec1n D\u1eef Li\u1ec7u \u0110i (Forward Data)"}),"\n",(0,r.jsxs)(e.p,{children:["Khi b\u1ea1n mu\u1ed1n g\u1eedi th\xf4ng tin t\u1eeb m\xe0n h\xecnh A sang m\xe0n h\xecnh B (VD: g\u1eedi t\xean ng\u01b0\u1eddi d\xf9ng).\nC\xe1ch \u0111\u01a1n gi\u1ea3n nh\u1ea5t l\xe0 d\xf9ng ",(0,r.jsx)(e.strong,{children:"Constructor"}),"."]}),"\n",(0,r.jsx)(e.h3,{id:"code-m\u1eabu",children:"Code m\u1eabu:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:'// M\xe0n h\xecnh 2 nh\u1eadn d\u1eef li\u1ec7u\nclass SecondScreen extends StatelessWidget {\n  final String userName;\n\n  const SecondScreen({required this.userName}); // Constructor\n\n  // ...\n}\n\n// M\xe0n h\xecnh 1 g\u1eedi d\u1eef li\u1ec7u\nNavigator.push(\n  context,\n  MaterialPageRoute(\n    builder: (context) => SecondScreen(userName: "Flutter Student"),\n  ),\n);\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3-nh\u1eadn-d\u1eef-li\u1ec7u-tr\u1ea3-v\u1ec1-backward-data",children:"3. Nh\u1eadn D\u1eef Li\u1ec7u Tr\u1ea3 V\u1ec1 (Backward Data)"}),"\n",(0,r.jsxs)(e.p,{children:["Khi b\u1ea1n mu\u1ed1n m\xe0n h\xecnh B tr\u1ea3 k\u1ebft qu\u1ea3 v\u1ec1 cho m\xe0n h\xecnh A (VD: ch\u1ecdn m\u1ed9t m\xe0u, ch\u1ecdn ng\xe0y th\xe1ng).\nCh\xfang ta s\u1eed d\u1ee5ng ",(0,r.jsx)(e.code,{children:"await"})," \u0111\u1ec3 \u0111\u1ee3i k\u1ebft qu\u1ea3 t\u1eeb ",(0,r.jsx)(e.code,{children:"Navigator.push"}),"."]}),"\n",(0,r.jsx)(e.h3,{id:"code-m\u1eabu-1",children:"Code m\u1eabu:"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"M\xe0n h\xecnh B (Tr\u1ea3 d\u1eef li\u1ec7u):"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:'// Khi ch\u1ecdn xong\nNavigator.pop(context, "M\xe0u \u0110\u1ecf"); // Tr\u1ea3 v\u1ec1 chu\u1ed7i "M\xe0u \u0110\u1ecf"\n'})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"M\xe0n h\xecnh A (\u0110\u1ee3i & Nh\u1eadn d\u1eef li\u1ec7u):"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:'// D\xf9ng async/await \u0111\u1ec3 \u0111\u1ee3i\nvoid _navigateAndGetResult() async {\n  // Bi\u1ebfn result s\u1ebd h\u1ee9ng gi\xe1 tr\u1ecb \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb h\xe0m pop\n  final result = await Navigator.push(\n    context,\n    MaterialPageRoute(builder: (context) => SelectionScreen()),\n  );\n\n  if (result != null) {\n    print("Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 ch\u1ecdn: $result");\n  }\n}\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"4-th\u1ef1c-h\xe0nh",children:"4. Th\u1ef1c H\xe0nh"}),"\n",(0,r.jsxs)(e.p,{children:["Trong b\xe0i th\u1ef1c h\xe0nh n\xe0y ",(0,r.jsx)(e.code,{children:"navigation.dart"}),", ch\xfang ta s\u1ebd l\xe0m m\u1ed9t Menu t\u1ed5ng h\u1ee3p:"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Level 1"}),": \u0110i\u1ec1u h\u01b0\u1edbng c\u01a1 b\u1ea3n \u0111\u1ebfn c\xe1c b\xe0i t\u1eadp c\u0169 (B\u1eadt \u0111\xe8n, Color Picker)."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Level 2"}),": Nh\u1eadp th\xf4ng tin \u1edf Menu v\xe0 truy\u1ec1n sang m\xe0n h\xecnh AI G\u1ee3i \xdd Vi\u1ec7c L\xe0m."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Level 3"}),": M\u1edf Color Picker \u0111\u1ec3 ch\u1ecdn m\xe0u, sau \u0111\xf3 tr\u1ea3 m\xe0u v\u1ec1 \u0111\u1ec3 \u0111\u1ed5i m\xe0u n\u1ec1n Menu."]}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Xem code m\u1eabu navigation.dart ho\xe0n ch\u1ec9nh"}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:'import \'package:flutter/material.dart\';\nimport \'../thuannd/lesson-13-stateful/lightbuld.dart\';\nimport \'../thuannd/lesson-13-stateful/color_picker.dart\';\nimport \'../thuannd/member_screen_v5_gemini.dart\';\n\n// FILE 3: Ho\xe0n thi\u1ec7n v\u1edbi Level 3 (Nh\u1eadn D\u1eef Li\u1ec7u - Backward)\n// M\u1ee5c ti\xeau: H\u1ecdc async/await v\xe0 x\u1eed l\xfd k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1 t\u1eeb m\xe0n h\xecnh con\n\nvoid main() {\n  runApp(const MaterialApp(debugShowCheckedModeBanner: false, home: NavigationMenuV3()));\n}\n\n// Chuy\u1ec3n sang StatefulWidget \u0111\u1ec3 c\u1eadp nh\u1eadt UI khi nh\u1eadn d\u1eef li\u1ec7u v\u1ec1\nclass NavigationMenuV3 extends StatefulWidget {\n  const NavigationMenuV3({super.key});\n\n  @override\n  State<NavigationMenuV3> createState() => _NavigationMenuV3State();\n}\n\nclass _NavigationMenuV3State extends State<NavigationMenuV3> {\n  // Bi\u1ebfn tr\u1ea1ng th\xe1i: M\xe0u n\u1ec1n c\u1ee7a menu\n  Color _backgroundColor = Colors.white;\n\n  // Level 3: H\xe0m nh\u1eadn d\u1eef li\u1ec7u tr\u1ea3 v\u1ec1\n  Future<void> _pickColorAndChangeBackground() async {\n    // 1. Chuy\u1ec3n m\xe0n h\xecnh v\xe0 \u0110\u1ee2I k\u1ebft qu\u1ea3 (await)\n    final result = await Navigator.push(\n      context,\n      MaterialPageRoute(\n        // M\u1edf m\xe0n h\xecnh ch\u1ecdn m\xe0u \u1edf ch\u1ebf \u0111\u1ed9 Select\n        builder: (context) => const ColorPicker(isSelectionMode: true),\n      ),\n    );\n\n    // 2. X\u1eed l\xfd k\u1ebft qu\u1ea3 sau khi m\xe0n h\xecnh con \u0111\xf3ng l\u1ea1i\n    if (result != null && result is Color) {\n      if (!mounted) return; // Ki\u1ec3m tra an to\xe0n\n\n      setState(() {\n        _backgroundColor = result; // C\u1eadp nh\u1eadt m\xe0u n\u1ec1n\n      });\n\n      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text("\u0110\xe3 c\u1eadp nh\u1eadt m\xe0u n\u1ec1n th\xe0nh c\xf4ng!")));\n    }\n  }\n\n  // Helper Level 2\n  void _openGameWithData(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (context) {\n        final nameCtrl = TextEditingController();\n        final descCtrl = TextEditingController();\n        return AlertDialog(\n          title: const Text("Nh\u1eadp h\u1ed3 s\u01a1 h\u1ecdc sinh"),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              TextField(\n                controller: nameCtrl,\n                decoration: const InputDecoration(labelText: "T\xean"),\n              ),\n              TextField(\n                controller: descCtrl,\n                decoration: const InputDecoration(labelText: "M\xf4 t\u1ea3"),\n              ),\n            ],\n          ),\n          actions: [\n            TextButton(onPressed: () => Navigator.pop(context), child: const Text("H\u1ee7y")),\n            ElevatedButton(\n              onPressed: () {\n                Navigator.pop(context);\n                Navigator.push(\n                  context,\n                  MaterialPageRoute(\n                    builder: (context) => MemberFunnyGameScreenV5(initialName: nameCtrl.text, initialDesc: descCtrl.text),\n                  ),\n                );\n              },\n              child: const Text("G\u1eedi & M\u1edf Game"),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: _backgroundColor, // M\xe0u n\u1ec1n thay \u0111\u1ed5i \u0111\u1ed9ng\n      appBar: AppBar(title: const Text("B\xe0i 17: Navigation (Full)")),\n      body: ListView(\n        padding: const EdgeInsets.all(16),\n        children: [\n          // LEVEL 1\n          const Text("Level 1: Basic", style: _headerStyle),\n          _buildItem("B\u1eadt \u0110\xe8n", Icons.lightbulb, () {\n            Navigator.push(context, MaterialPageRoute(builder: (_) => const LightBulb()));\n          }),\n          _buildItem("Xem M\xe0u (Kh\xf4ng ch\u1ecdn)", Icons.visibility, () {\n            Navigator.push(context, MaterialPageRoute(builder: (_) => const ColorPicker()));\n          }),\n\n          const Divider(),\n\n          // LEVEL 2\n          const Text("Level 2: Truy\u1ec1n \u0111i (Forward)", style: _headerStyle),\n          _buildItem("AI G\u1ee3i \xdd Vi\u1ec7c L\xe0m", Icons.psychology, () => _openGameWithData(context), color: Colors.blue.shade50),\n\n          const Divider(),\n\n          // LEVEL 3 (M\u1edbi th\xeam v\xe0o)\n          const Text("Level 3: Nh\u1eadn v\u1ec1 (Backward)", style: _headerStyle),\n          const SizedBox(height: 10),\n          Container(\n            decoration: BoxDecoration(\n              border: Border.all(color: Colors.green, width: 2),\n              borderRadius: BorderRadius.circular(8),\n              color: Colors.green.shade50,\n            ),\n            child: ListTile(\n              leading: const Icon(Icons.format_paint, color: Colors.green),\n              title: const Text("Ch\u1ecdn M\xe0u Cho Menu"),\n              subtitle: const Text("Click \u0111\u1ec3 ch\u1ecdn m\xe0u -> Tr\u1ea3 v\u1ec1 \u0111\u1ed5i n\u1ec1n Menu"),\n              onTap: _pickColorAndChangeBackground, // G\u1ecdi h\xe0m async\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildItem(String title, IconData icon, VoidCallback onTap, {Color? color}) {\n    return Card(\n      color: color,\n      child: ListTile(leading: Icon(icon), title: Text(title), onTap: onTap, trailing: const Icon(Icons.arrow_forward_ios, size: 16)),\n    );\n  }\n\n  static const _headerStyle = TextStyle(fontSize: 18, fontWeight: FontWeight.bold);\n}\n'})})]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>c});var i=t(6540);const r={},o=i.createContext(r);function a(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);